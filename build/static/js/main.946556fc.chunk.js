(this["webpackJsonpqr-code-menu"]=this["webpackJsonpqr-code-menu"]||[]).push([[0],{157:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(66),s=n.n(i),r=(n(157),n(12)),j=n(70),l=n(22),o=n(238),u=n(0);function d(){return Object(u.jsx)("div",{})}var b=n(243),O=n(244),x=n(245),h=n(246),m=n(40),f=n(237),p=n(89),g=n(266),v=n(281),y=n(276),C=n(130),I=n(284),w=n(275);function W(e){var t=e.path,n=e.text,a=e.startIcon;return Object(u.jsx)(w.a,{startIcon:a,children:Object(u.jsx)(j.b,{to:t,style:{textDecoration:"none",color:"black"},children:n})})}var S=function(e){var t=e.authService,n=Object(m.a)(),c=(Object(f.a)(n.breakpoints.up("lg")),Object(l.f)()),i=Object(a.useContext)($e),s=i.user,j=(i.setUser,Object(a.useState)(null)),d=Object(r.a)(j,2),w=d[0],S=d[1];return Object(u.jsxs)("div",{children:[Object(u.jsxs)(o.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"80px",m:"16px",flexWrap:"wrap"},children:[Object(u.jsx)(o.a,{children:Object(u.jsx)(p.a,{variant:"h5",children:"Pairable"})}),s&&s?Object(u.jsxs)(o.a,{children:[Object(u.jsx)(g.a,{title:"Open Setting",children:Object(u.jsx)(v.a,{onClick:function(e){S(e.currentTarget)},children:Object(u.jsx)(y.a,{variant:"rounded",src:"https://res.cloudinary.com/db7ss52zt/image/upload/v1639668058/Menu%20Creator/Logo/Pour_Haus_Wine_Bar_Logo_uhxovp.jpg"})})}),Object(u.jsxs)(C.a,{anchorEl:w,open:Boolean(w),onClose:function(e){S(null)},children:[Object(u.jsxs)(I.a,{onClick:function(e){c("/profile"),S(null)},children:[Object(u.jsx)(v.a,{children:Object(u.jsx)(b.a,{})}),Object(u.jsx)(p.a,{children:"Profile"})]}),Object(u.jsxs)(I.a,{onClick:function(e){c("/editor"),S(null)},children:[Object(u.jsx)(v.a,{children:Object(u.jsx)(O.a,{})}),Object(u.jsx)(p.a,{children:"Menu Editor"})]}),Object(u.jsxs)(I.a,{onClick:function(e){c("/menu"),S(null)},children:[Object(u.jsx)(v.a,{children:Object(u.jsx)(x.a,{})}),Object(u.jsx)(p.a,{children:"Your Menu"})]}),Object(u.jsxs)(I.a,{onClick:function(){t.logout().then((function(){c("/login")})).catch((function(e){console.log(e)}))},children:[Object(u.jsx)(v.a,{children:Object(u.jsx)(h.a,{})}),Object(u.jsx)(p.a,{children:"Sign Out"})]})]})]}):Object(u.jsx)(o.a,{children:Object(u.jsx)(W,{path:"/login",text:"Sign In"})})]}),Object(u.jsx)("hr",{})]})};var k=function(e){var t=e.authService,n=e.component;return Object(u.jsxs)(o.a,{children:[Object(u.jsx)(o.a,{sx:{mb:4},children:Object(u.jsx)(S,{authService:t})}),Object(u.jsx)(o.a,{children:n}),Object(u.jsx)(o.a,{sx:{mb:8},children:Object(u.jsx)(d,{})})]})},M=n(32),P=n(278),R=n(128),A=n(249),E=n(247),D=n(271);var F=function(e){var t=e.customerId,n=e.addCategory,c=Object(a.useState)("New Category"),i=Object(r.a)(c,2),s=i[0],j=i[1];return Object(u.jsxs)(P.a,{container:!0,item:!0,xs:12,spacing:2,alignItems:"center",children:[Object(u.jsx)(E.a,{}),Object(u.jsx)(P.a,{item:!0,xs:9,children:Object(u.jsx)(D.a,{required:!0,label:"New category",name:"category",value:s,onChange:function(e){var t=e.target.value;j(t)},fullWidth:!0})}),Object(u.jsx)(P.a,{item:!0,xs:3,children:Object(u.jsx)(w.a,{fullWidth:!0,variant:"contained",startIcon:Object(u.jsx)(A.a,{}),onClick:function(){n(t,s),j("")},children:"Add"})})]})},L=n(21),B=n(288),N=n(250),U=n(289),q=n(290),z=n(291),H=n(251);var _=function(e){var t=e.customerId,n=e.category,c=e.editCategory,i=Object(a.useState)(),s=Object(r.a)(i,2),j=s[0],l=s[1],o=Object(a.useState)(n),d=Object(r.a)(o,2),b=d[0],x=d[1],h=function(){x(n),l(!1)};return Object(u.jsxs)(P.a,{container:!0,item:!0,spacing:2,alignItems:"center",children:[Object(u.jsx)(P.a,{item:!0,xs:9,children:Object(u.jsx)(D.a,{disabled:!0,required:!0,label:"Category",name:"category",value:n,fullWidth:!0})}),Object(u.jsx)(P.a,{item:!0,xs:3,children:Object(u.jsx)(w.a,{fullWidth:!0,variant:"contained",startIcon:Object(u.jsx)(O.a,{}),onClick:function(){l(!0)},children:"Edit"})}),Object(u.jsxs)(B.a,{open:j,onClose:h,children:[Object(u.jsx)(N.a,{children:"Edit"}),Object(u.jsxs)(U.a,{children:[Object(u.jsx)(q.a,{}),Object(u.jsx)(D.a,{sx:{mt:1},required:!0,autoFocus:!0,label:"Category",name:"category",value:b,fullWidth:!0,onChange:function(e){var t=e.target.value;x(t)}})]}),Object(u.jsxs)(z.a,{children:[Object(u.jsx)(w.a,{onClick:h,children:"Cancel"}),Object(u.jsx)(w.a,{onClick:function(){c(t,n,b),x(b),l(!1)},startIcon:Object(u.jsx)(H.a,{}),children:"Save"})]})]})]})},$=n(252),T=n(292);var J=function(e){var t=e.menu,n=e.menus,a=e.handleEdit,c=e.handleDelete;return Object(u.jsxs)(P.a,{container:!0,spacing:2,children:[Object(u.jsx)(P.a,{item:!0,xs:6,children:Object(u.jsx)(D.a,{disabled:!0,required:!0,label:"Menu name",name:"name",value:t.name,fullWidth:!0})}),Object(u.jsx)(P.a,{item:!0,xs:3,children:Object(u.jsxs)(D.a,{disabled:!0,select:!0,label:"Rate",name:"rate",value:t.rate,fullWidth:!0,children:[Object(u.jsx)(I.a,{value:"none",children:"None"},"None"),Object(u.jsx)(I.a,{value:"high",children:"High"},"High"),Object(u.jsx)(I.a,{value:"mid",children:"Mid"},"Mid"),Object(u.jsx)(I.a,{value:"low",children:"Low"},"Low")]})}),Object(u.jsx)(P.a,{item:!0,xs:3,children:Object(u.jsx)(D.a,{disabled:!0,type:"number",label:"Price",name:"price",value:t.price,fullWidth:!0,InputProps:{startAdornment:Object(u.jsx)(T.a,{position:"start",children:"$"})}})}),Object(u.jsx)(P.a,{item:!0,xs:12,children:Object(u.jsx)(D.a,{disabled:!0,label:"Description",name:"desc",value:t.desc,fullWidth:!0,multiline:!0})}),t.pairs&&Object(u.jsx)(P.a,{item:!0,xs:12,children:Object(u.jsx)(D.a,{disabled:!0,label:"Best Paired With",name:"pairs",value:t.pairs.map((function(e){return n[e].name})),fullWidth:!0,multiline:!0})}),Object(u.jsxs)(P.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(u.jsx)(P.a,{item:!0,xs:6,children:Object(u.jsx)(w.a,{fullWidth:!0,variant:"contained",startIcon:Object(u.jsx)(O.a,{}),onClick:a,children:"Edit"})}),Object(u.jsx)(P.a,{item:!0,xs:6,children:Object(u.jsx)(w.a,{fullWidth:!0,variant:"contained",startIcon:Object(u.jsx)($.a,{}),onClick:c,children:"Delete"})})]})]})},V=n(4),Y=n.n(V),Z=n(6),G=n(2),K=n(253),Q=n(285),X=n(287),ee=n(272),te=n(270),ne=n(279),ae=n(280),ce=n(267);var ie=function(e){var t=e.open,n=e.setOpen,c=e.menu,i=e.menus,s=e.menusArray,j=e.imageRepository,l=e.updateMenu,d=e.customerId,b=Object(a.useState)(c),O=Object(r.a)(b,2),x=O[0],h=O[1],m=Object(a.useState)(c.img),f=Object(r.a)(m,2),p=f[0],g=f[1],v=Object(a.useState)(),y=Object(r.a)(v,2),C=y[0],W=y[1],S=Object(a.useState)(),k=Object(r.a)(S,2),R=k[0],A=k[1];Object(a.useEffect)((function(){c!==x&&h(c)}),[c]);var E=function(e){if("img"===e.target.name){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);return g(n),void W(t)}}else if("pairs"===e.target.name){var a=e.target.value,c="string"===typeof a?a.split(","):a;return void h(Object(M.a)(Object(M.a)({},x),{},{pairs:c}))}var i=e.target.name,s=e.target.value;h(Object(M.a)(Object(M.a)({},x),{},Object(G.a)({},i,s)))},F=function(){n(!1),h(c),g(c.img),W()},L=function(){var e=Object(Z.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=10;break}return A(!0),e.next=4,j.imageUpload(d,C,[x.menuId,x.category,x.name]);case 4:return t=e.sent,l(d,c.menuId,Object(M.a)(Object(M.a)({},x),{},{img:t.url})),h(c),n(!1),A(!1),e.abrupt("return");case 10:A(!0),l(d,c.menuId,Object(M.a)(Object(M.a)({},x),{},{img:p})),h(x),n(!1),A(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsxs)(B.a,{open:t,onClose:F,children:[Object(u.jsx)(N.a,{children:"Edit"}),Object(u.jsxs)(U.a,{children:[Object(u.jsx)(q.a,{}),Object(u.jsxs)(P.a,{sx:{mt:1},container:!0,item:!0,spacing:2,alignItems:"center",children:[Object(u.jsx)(P.a,{item:!0,xs:12,children:Object(u.jsx)(D.a,{required:!0,autoFocus:!0,label:"Category",name:"category",value:x.category,fullWidth:!0,onChange:E,disabled:R})}),Object(u.jsx)(P.a,{item:!0,xs:6,children:Object(u.jsx)(D.a,{required:!0,autoFocus:!0,label:"Menu name",name:"name",value:x.name,fullWidth:!0,onChange:E,disabled:R})}),Object(u.jsx)(P.a,{item:!0,xs:3,children:Object(u.jsxs)(D.a,{select:!0,label:"Rate",name:"rate",value:x.rate,fullWidth:!0,onChange:E,disabled:R,children:[Object(u.jsx)(I.a,{value:"none",children:"None"},"None"),Object(u.jsx)(I.a,{value:"high",children:"High"},"High"),Object(u.jsx)(I.a,{value:"mid",children:"Mid"},"Mid"),Object(u.jsx)(I.a,{value:"low",children:"Low"},"Low")]})}),Object(u.jsx)(P.a,{item:!0,xs:3,children:Object(u.jsx)(D.a,{type:"number",label:"Price",name:"price",value:x.price,fullWidth:!0,InputProps:{startAdornment:Object(u.jsx)(T.a,{position:"start",children:"$"})},onChange:E,disabled:R})}),p&&Object(u.jsx)(P.a,{container:!0,item:!0,xs:12,justifyContent:"center",alignItems:"center",children:Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)("img",{src:p,alt:"",loading:"lazy",style:{width:"100%",height:"100%"}})})}),Object(u.jsxs)(P.a,{container:!0,item:!0,xs:12,spacing:2,justifyContent:"center",alignItems:"center",children:[Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(w.a,{variant:"contained",component:"span",startIcon:Object(u.jsx)($.a,{}),onClick:function(){g(""),W(null)},disabled:R,children:"Delete Image"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsxs)("label",{htmlFor:"contained-button-file-".concat(x.menuId),children:[Object(u.jsx)(Q.a,{sx:{display:"none"},type:"file",inputProps:{accept:"image/*"},id:"contained-button-file-".concat(x.menuId),name:"img",onChange:E,disabled:R}),Object(u.jsx)(w.a,{variant:"contained",component:"span",startIcon:Object(u.jsx)(K.a,{}),disabled:R,children:"Upload"})]})})]}),Object(u.jsx)(P.a,{item:!0,xs:12,children:Object(u.jsx)(D.a,{label:"Description",name:"desc",value:x.desc,fullWidth:!0,multiline:!0,onChange:E,disabled:R})}),Object(u.jsx)(P.a,{item:!0,xs:12,children:Object(u.jsxs)(X.a,{fullWidth:!0,children:[Object(u.jsx)(ee.a,{id:"best-paired-with-".concat(x.menuId),children:"Best Paired With"}),Object(u.jsx)(te.a,{labelId:"best-paired-with-".concat(x.menuId),multiple:!0,value:x.pairs?x.pairs:[],name:"pairs",label:"Best Paired With",onChange:E,disabled:R,input:Object(u.jsx)(ne.a,{}),renderValue:function(e){return Object(u.jsx)(o.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object(u.jsx)(ae.a,{label:i[e].name},e)}))})},children:s.map((function(e){return Object(u.jsx)(I.a,{value:e.menuId,children:e.name})}))})]})})]})]}),Object(u.jsxs)(z.a,{children:[Object(u.jsx)(w.a,{onClick:F,disabled:R,children:"Cancel"}),Object(u.jsx)(ce.a,{loading:R,onClick:L,startIcon:Object(u.jsx)(H.a,{}),children:"Save"})]})]})};var se=function(e){var t=e.imageRepository,n=e.customerId,c=e.menu,i=e.menus,s=e.menusArray,j=e.updateMenu,l=e.deleteMenu,o=Object(a.useState)(),d=Object(r.a)(o,2),b=d[0],O=d[1];return Object(u.jsxs)(P.a,{container:!0,item:!0,spacing:2,children:[Object(u.jsx)(J,{menu:c,menus:i,handleEdit:function(e){O(!0)},handleDelete:function(e){l(n,c.menuId)}}),Object(u.jsx)(ie,{open:b,setOpen:O,menu:c,menus:i,menusArray:s,imageRepository:t,updateMenu:j,customerId:n})]})};var re=function(e){var t=e.imageRepository,n=e.customerId,c=e.category,i=e.addMenu,s=Object(a.useState)({menuId:Date.now(),category:c,name:"",rate:"none",price:"",desc:"",img:"",pairs:[]}),j=Object(r.a)(s,2),l=j[0],o=j[1],d=Object(a.useState)(),b=Object(r.a)(d,2),O=b[0],x=b[1],h=Object(a.useState)(!1),m=Object(r.a)(h,2),f=m[0],p=m[1];Object(a.useEffect)((function(){o(Object(M.a)(Object(M.a)({},l),{},{category:c}))}),[c]);var g=function(e){var t=e.target.name;if("img"===t){var n=e.target.files[0];if(n){var a=URL.createObjectURL(n);return x(n),void o(Object(M.a)(Object(M.a)({},l),{},Object(G.a)({category:c},t,a)))}x("")}var i=e.target.value;o(Object(M.a)(Object(M.a)({},l),{},Object(G.a)({category:c},t,i)))},v=function(){var e=Object(Z.a)(Y.a.mark((function e(){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=10;break}return p(!0),e.next=4,t.imageUpload(n,O,[l.menuId,l.category,l.name]);case 4:return a=e.sent,i(n,Object(M.a)(Object(M.a)({},l),{},{img:a.url}),l.menuId),o({menuId:Date.now(),category:c,name:"",rate:"none",price:"",desc:"",img:"",pairs:[]}),x(),p(!1),e.abrupt("return");case 10:p(!0),i(n,l,l.menuId),o({menuId:Date.now(),category:c,name:"",rate:"none",price:"",desc:"",img:"",pairs:[]}),p(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{children:Object(u.jsxs)(P.a,{container:!0,item:!0,spacing:2,children:[Object(u.jsx)(P.a,{item:!0,xs:6,children:Object(u.jsx)(D.a,{required:!0,label:"Menu name",name:"name",value:l.name,onChange:g,fullWidth:!0,disabled:f})}),Object(u.jsx)(P.a,{item:!0,xs:3,children:Object(u.jsxs)(D.a,{select:!0,label:"Rate",name:"rate",value:l.rate,onChange:g,fullWidth:!0,disabled:f,children:[Object(u.jsx)(I.a,{value:"none",children:"None"},"None"),Object(u.jsx)(I.a,{value:"high",children:"High"},"High"),Object(u.jsx)(I.a,{value:"mid",children:"Mid"},"Mid"),Object(u.jsx)(I.a,{value:"low",children:"Low"},"Low")]})}),Object(u.jsx)(P.a,{item:!0,xs:3,children:Object(u.jsx)(D.a,{type:"number",label:"Price",name:"price",value:l.price,onChange:g,disabled:f,fullWidth:!0,InputProps:{startAdornment:Object(u.jsx)(T.a,{position:"start",children:"$"})}})}),l.img&&Object(u.jsx)(P.a,{container:!0,item:!0,xs:12,justifyContent:"center",alignItems:"center",children:Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)("img",{src:l.img,alt:"",loading:"lazy",style:{width:"100%",height:"100%"}})})}),Object(u.jsx)(P.a,{container:!0,item:!0,xs:12,justifyContent:"right",children:Object(u.jsx)(P.a,{item:!0,children:Object(u.jsxs)("label",{htmlFor:"contained-button-file-".concat(c),children:[Object(u.jsx)(Q.a,{sx:{display:"none"},type:"file",inputProps:{accept:"image/*"},id:"contained-button-file-".concat(c),name:"img",onChange:g,disabled:f}),Object(u.jsx)(w.a,{variant:"contained",component:"span",startIcon:Object(u.jsx)(K.a,{}),disabled:f,children:"Image Upload"})]})})}),Object(u.jsx)(P.a,{item:!0,xs:12,children:Object(u.jsx)(D.a,{label:"Description",name:"desc",value:l.desc,onChange:g,fullWidth:!0,multiline:!0,disabled:f})}),Object(u.jsx)(P.a,{item:!0,xs:12,children:Object(u.jsx)(ce.a,{loading:f,fullWidth:!0,variant:"outlined",startIcon:Object(u.jsx)(A.a,{}),onClick:v,children:"Add"})})]})})},je=n(260),le=n(261),oe=n(262),ue=n(293),de=n(294),be=n(295),Oe=n(296),xe=n(259),he=n(273),me=n(254),fe=n(297),pe=n(255),ge=n(256),ve=n(257),ye=n(283),Ce=n(258);var Ie=function(e){var t=e.menu;return Object(u.jsx)(ye.a,{sx:{pl:4},dense:!0,children:Object(u.jsxs)(he.a,{secondaryAction:Object(u.jsxs)(p.a,{variant:"subtitle2",children:["$",t.price]}),children:["high"===t.rate?Object(u.jsx)(me.a,{children:Object(u.jsx)(pe.a,{})}):"mid"===t.rate?Object(u.jsx)(me.a,{children:Object(u.jsx)(ge.a,{})}):"low"===t.rate?Object(u.jsx)(me.a,{children:Object(u.jsx)(ve.a,{})}):null,Object(u.jsx)(Ce.a,{primary:t.name,secondary:t.desc})]})})};var we=function(e){var t=e.menu,n=e.menus,c=Object(a.useState)(!1),i=Object(r.a)(c,2),s=i[0],j=i[1];return Object(u.jsxs)(ue.a,{children:[Object(u.jsx)(de.a,{title:t.name,action:Object(u.jsxs)(p.a,{sx:{mt:1},variant:"subtitle2",children:["$",t.price]})}),t.img&&Object(u.jsx)(be.a,{component:"img",height:"150",image:t.img,alt:"No Image"}),Object(u.jsx)(Oe.a,{children:Object(u.jsx)(p.a,{variant:"body2",color:"text.secondary",children:t.desc})}),Object(u.jsxs)(xe.a,{onClick:function(){j(!s)},children:[Object(u.jsx)(he.a,{secondaryAction:Object(u.jsx)(p.a,{variant:"body2",children:"Best Paired With"}),children:Object(u.jsxs)(me.a,{children:[Object(u.jsx)(x.a,{}),Object(u.jsx)(je.a,{})]})}),s?Object(u.jsx)(le.a,{}):Object(u.jsx)(oe.a,{})]}),Object(u.jsx)(fe.a,{in:s,timeout:"auto",unmountOnExit:!0,children:t.pairs&&t.pairs.map((function(e){return Object(u.jsx)(Ie,{menu:n[e]},e)}))})]})};var We=function(e){var t=e.data,n=e.imageRepository,a=e.customerId,c=e.updateMenu,i=e.deleteMenu,s=e.addMenu,r=e.editCategory,j=Object.values(t.menus),l=Object(L.a)(new Set(j.map((function(e){return e.category}))));return Object(u.jsx)(u.Fragment,{children:l.map((function(e){return Object(u.jsxs)(o.a,{children:[Object(u.jsx)(o.a,{sx:{mt:4},children:Object(u.jsx)(E.a,{})}),Object(u.jsx)(o.a,{children:Object(u.jsxs)(P.a,{container:!0,spacing:4,sx:{mt:1},children:[Object(u.jsx)(P.a,{item:!0,container:!0,xs:12,md:6,justifyContent:"center",alignItems:"center",children:Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{variant:"h6",children:e})})}),Object(u.jsx)(P.a,{item:!0,xs:12,md:6,children:Object(u.jsx)(_,{customerId:a,category:e,editCategory:r})}),j.filter((function(t){return t.category===e})).map((function(e){return Object(u.jsxs)(P.a,{container:!0,item:!0,xs:12,alignItems:"center",spacing:4,children:[Object(u.jsx)(P.a,{item:!0,xs:12,md:6,children:Object(u.jsx)(we,{menu:e,menus:t.menus})}),Object(u.jsx)(P.a,{item:!0,xs:12,md:6,children:Object(u.jsx)(se,{imageRepository:n,customerId:a,menu:e,menus:t.menus,menusArray:j,categories:l,updateMenu:c,deleteMenu:i})})]})})),Object(u.jsx)(P.a,{item:!0,xs:12,md:6,children:Object(u.jsx)(re,{imageRepository:n,customerId:a,category:e,addMenu:s})})]})})]})}))})};function Se(e){var t=e.customerId,n=e.menuRepository,c=e.imageRepository,i=Object(a.useState)({}),s=Object(r.a)(i,2),j=s[0],l=s[1],d=Object(a.useState)(!0),b=Object(r.a)(d,2),O=b[0],x=b[1];Object(a.useEffect)((function(){n.getMenus(t,(function(e){if(e)return l(e),void x(!1);x(!1)}))}),[]);return Object(u.jsx)(u.Fragment,{children:O?Object(u.jsxs)(o.a,{sx:{display:"flex",width:"100vw",height:"500px",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(u.jsx)(o.a,{children:Object(u.jsx)(R.CircleLoader,{loading:O,css:{display:"block"},size:100})}),Object(u.jsx)(o.a,{children:Object(u.jsx)(p.a,{variant:"h5",children:"Loading Editor..."})})]}):Object(u.jsxs)(P.a,{container:!0,children:[Object(u.jsx)(P.a,{container:!0,item:!0,justifyContent:"center",children:Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{variant:"h5",children:"Menu Editor"})})}),Object(u.jsx)(P.a,{container:!0,item:!0,justifyContent:"center",children:Object(u.jsxs)(P.a,{container:!0,item:!0,xs:10,spacing:4,children:[Object.keys(j).find((function(e){return"menus"===e}))?Object(u.jsx)(P.a,{container:!0,item:!0,children:Object(u.jsx)(We,{data:j,imageRepository:c,customerId:t,updateMenu:function(e,t,a){n.updateMenu(e,t,a),n.getMenus(e,(function(e){l(e)}))},deleteMenu:function(e,t){n.deleteMenu(e,t),n.getMenus(e,(function(e){l(e||{})}))},addMenu:function(e,t,a){n.addMenu(e,t,a),n.getMenus(e,(function(e){l(e)}))},editCategory:function(e,t,a){var c=Object(M.a)({},j.menus);Object.keys(c).forEach((function(e){c[e].category!==t||(c[e].category=a)})),n.updateCategory(e,c),n.getMenus(e,(function(e){l(e)}))}})}):null,Object(u.jsx)(P.a,{container:!0,item:!0,xs:12,children:Object(u.jsx)(F,{customerId:t,addCategory:function(e,t){var a=Date.now();n.addMenu(e,{menuId:a,category:t,name:"New menu",rate:"none",price:"",desc:"New menu description",img:"",pairs:[]},a),n.getMenus(e,(function(e){l(e)}))}})})]})})]})})}var ke=n(264),Me=n(265),Pe=n(274),Re=n(268),Ae=n(298);var Ee=function(e){var t=e.category,n=e.categories,a=e.handleTabChange;return Object(u.jsx)(Re.a,{value:t,onChange:a,variant:"scrollable",scrollButtons:"auto",children:n.map((function(e){return Object(u.jsx)(Ae.a,{label:e,value:e})}))})},De=n(263);var Fe=function(e){var t=e.menus,n=Object(a.useState)(),c=Object(r.a)(n,2),i=c[0],s=c[1],j=Object.values(t),l=Object(L.a)(new Set(j.map((function(e){return e.category}))));return Object(a.useEffect)((function(){s(j[0].category)}),[]),Object(u.jsxs)(P.a,{container:!0,item:!0,justifyContent:"center",xs:10,children:[Object(u.jsx)(P.a,{item:!0,xs:12,sx:{mb:4},children:Object(u.jsx)(De.a,{sx:{display:"flex",justifyContent:"center"},children:Object(u.jsx)(Ee,{category:i,categories:l,handleTabChange:function(e,t){s(t)}})})}),Object(u.jsx)(P.a,{container:!0,justifyContent:"center",children:Object(u.jsx)(P.a,{item:!0,container:!0,xs:10,spacing:2,justifyContent:"flex-start",alignItems:"flex-start",children:i&&j.filter((function(e){return e.category===i})).map((function(e){return Object(u.jsx)(P.a,{item:!0,xs:12,md:6,lg:4,xl:3,children:Object(u.jsx)(we,{menu:e,menus:t},e.menuId)})}))})})]})};function Le(e){var t=e.menu,n=e.menus,c=Object(a.useState)(!1),i=Object(r.a)(c,2),s=i[0],j=i[1];return Object(u.jsxs)(ye.a,{children:[Object(u.jsx)(he.a,{secondaryAction:Object(u.jsxs)(p.a,{variant:"subtitle2",children:["$",t.price]}),children:Object(u.jsx)(Ce.a,{primary:t.name,secondary:t.desc})}),t.pairs?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(xe.a,{onClick:function(){j(!s)},children:[Object(u.jsx)(he.a,{secondaryAction:Object(u.jsx)(p.a,{variant:"body2",children:"Best Paired With"}),children:Object(u.jsxs)(me.a,{children:[Object(u.jsx)(x.a,{}),Object(u.jsx)(je.a,{})]})}),s?Object(u.jsx)(le.a,{}):Object(u.jsx)(oe.a,{})]}),Object(u.jsx)(fe.a,{sx:{borderBottom:"1px solid",borderRadius:4},in:s,timeout:"auto",unmountOnExit:!0,children:t.pairs&&t.pairs.map((function(e){return Object(u.jsx)(Ie,{menu:n[e]},e)}))})]}):null]})}var Be=function(e){var t=e.menus,n=e.menusArray,a=e.category;return Object(u.jsx)(u.Fragment,{children:n.filter((function(e){return e.category===a})).map((function(e){return Object(u.jsx)(Le,{menus:t,menu:e})}))})};function Ne(e){var t=e.menus,n=Object.values(t),a=Object(L.a)(new Set(n.map((function(e){return e.category}))));return Object(u.jsx)(P.a,{item:!0,container:!0,justifyContent:"center",xs:10,sm:8,md:6,lg:6,xl:4,children:a.map((function(e){return Object(u.jsxs)(P.a,{item:!0,container:!0,direction:"column",children:[Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{variant:"h5",children:e})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(Be,{menus:t,menusArray:n,category:e})})]})}))})}var Ue=function(e){var t=e.customerId,n=e.menuRepository,c=Object(a.useState)({}),i=Object(r.a)(c,2),s=i[0],j=i[1],l=Object(a.useState)(!0),o=Object(r.a)(l,2),d=o[0],b=o[1];return Object(a.useEffect)((function(){n.getMenus(t,(function(e){e&&j(e)}))}),[]),Object(u.jsxs)(P.a,{container:!0,item:!0,alignItems:"center",direction:"column",spacing:4,children:[Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{variant:"h5",children:"Your Menu"})}),Object(u.jsxs)(P.a,{item:!0,container:!0,justifyContent:"center",alignItems:"center",children:[Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(ke.a,{})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(Pe.a,{checked:d,onChange:function(e){b(!d)}})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(Me.a,{})})]}),Object(u.jsx)(P.a,{container:!0,item:!0,justifyContent:"center",xs:10,children:Object.keys(s).find((function(e){return"menus"===e}))?d?Object(u.jsx)(Fe,{menus:s.menus},Date.now()):Object(u.jsx)(Ne,{menus:s.menus}):Object(u.jsx)(P.a,{item:!0,children:"No Data Available"})})]})};var qe=function(e){var t=e.authService,n=Object(l.f)(),c=Object(a.useContext)($e),i=c.user,s=c.setUser,j=Object(a.useState)(""),o=Object(r.a)(j,2),d=o[0],b=o[1],O=Object(a.useState)(""),x=Object(r.a)(O,2),h=x[0],m=x[1];Object(a.useEffect)((function(){t.onAuthChange((function(e){e?(s(e),n("/menu")):s(void 0)}))}),[i,s,t,n]);var f=function(e){var t=e.target.name,n=e.target.value;switch(t){case"email":return void b(n);case"password":return void m(n);default:return}};return Object(u.jsxs)(B.a,{open:!0,maxWidth:"xs",fullWidth:!0,children:[Object(u.jsx)(N.a,{sx:{textAlign:"center"},children:Object(u.jsx)(p.a,{variant:"h5",children:"Log in"})}),Object(u.jsx)(P.a,{container:!0,justifyContent:"center",children:Object(u.jsxs)(P.a,{container:!0,item:!0,direction:"column",justifyContent:"space-around",spacing:2,sx:{p:4,maxWidth:"400px"},children:[Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{children:"Email"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(D.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",label:"Email",name:"email",onChange:f})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{children:"Password"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(D.a,{fullWidth:!0,variant:"outlined",label:"Password",type:"password",name:"password",onChange:f})}),Object(u.jsx)(P.a,{item:!0,container:!0,justifyContent:"center",children:Object(u.jsx)(P.a,{item:!0,xs:12,children:Object(u.jsx)(w.a,{fullWidth:!0,variant:"contained",size:"large",onClick:function(){t.signInWithEmailPassword(d,h)},children:"Log in"})})})]})})]})};var ze=function(e){var t=e.menus,n=(e.logo,e.name),c=Object(a.useState)(!0),i=Object(r.a)(c,2),s=i[0],j=i[1];return Object(u.jsxs)(P.a,{container:!0,alignItems:"center",direction:"column",spacing:4,children:[Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{variant:"h5",children:n})}),Object(u.jsxs)(P.a,{item:!0,container:!0,justifyContent:"center",alignItems:"center",children:[Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(ke.a,{})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(Pe.a,{checked:s,onChange:function(e){j(!s)}})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(Me.a,{})})]}),Object(u.jsx)(P.a,{container:!0,item:!0,justifyContent:"center",xs:10,children:t?s?Object(u.jsx)(Fe,{menus:t},Date.now()):Object(u.jsx)(Ne,{menus:t}):Object(u.jsx)(P.a,{item:!0,children:"No Data Available"})})]})};function He(e){e.user;var t=Object(a.useState)(),n=Object(r.a)(t,2),c=n[0];n[1];return Object(u.jsxs)(P.a,{container:!0,xs:12,justifyContent:"center",children:[Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{variant:"h5",children:"Profile"})}),Object(u.jsx)(P.a,{container:!0,justifyContent:"center",children:Object(u.jsxs)(P.a,{container:!0,item:!0,direction:"column",justifyContent:"space-around",spacing:2,sx:{p:4,maxWidth:"400px"},children:[Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{children:"Business Name"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(D.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",label:"Business Name",name:"businessName"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{children:"Business Description (Bio)"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(D.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",label:"Business Description (Bio)",name:"businessDesc"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{children:"Location"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(D.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",label:"Address Line1",name:"addressLine1"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(D.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",label:"Address Line2",name:"addressLine2"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(D.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",label:"City",name:"city"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(D.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",label:"State",name:"state"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(D.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",label:"ZIP Code",name:"zipCode"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{children:"Phone"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(D.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",label:"Phone",name:"phone"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{children:"Logo"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsxs)("label",{htmlFor:"contained-button-file-logo",children:[Object(u.jsx)(Q.a,{sx:{display:"none"},type:"file",inputProps:{accept:"image/*"},id:"contained-button-file-logo",name:"img",onChange:function(){},disabled:c}),Object(u.jsx)(w.a,{variant:"contained",component:"span",startIcon:Object(u.jsx)(A.a,{}),disabled:c,children:"Upload Logo"})]})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{children:"Business Hours"})}),Object(u.jsx)(P.a,{item:!0,children:"business hours settings"}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{children:"Email"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(D.a,{fullWidth:!0,variant:"outlined",label:"Email",name:"email"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(p.a,{children:"Password"})}),Object(u.jsx)(P.a,{item:!0,children:Object(u.jsx)(D.a,{fullWidth:!0,variant:"outlined",label:"Password",type:"password",name:"password"})})]})})]})}var _e=function(e){var t=e.authService,n=e.menuRepository,c=e.imageRepository,i=Object(a.useContext)($e).user,s=Object(a.useState)(),o=Object(r.a)(s,2),d=o[0],b=o[1],O=Object(a.useState)(),x=Object(r.a)(O,2),h=x[0],m=x[1];return Object(a.useEffect)((function(){n.getDatabase((function(e){var t=Object.keys(e);b(t),m(e)}))}),[n,i]),Object(u.jsx)(j.a,{children:Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"/login",element:Object(u.jsx)(qe,{authService:t})}),i&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l.a,{path:"/editor",element:Object(u.jsx)(k,{authService:t,component:Object(u.jsx)(Se,{customerId:i.uid,menuRepository:n,imageRepository:c})})}),Object(u.jsx)(l.a,{path:"/menu",element:Object(u.jsx)(k,{authService:t,component:Object(u.jsx)(Ue,{customerId:i.uid,menuRepository:n})})}),Object(u.jsx)(l.a,{path:"/profile",element:Object(u.jsx)(k,{authService:t,component:Object(u.jsx)(He,{user:i})})})]}),d&&h&&d.map((function(e){return Object(u.jsx)(l.a,{path:"/menu/".concat(h[e].publicUrl),element:Object(u.jsx)(k,{authService:t,component:Object(u.jsx)(ze,{menus:h[e].menus,logo:h[e].logo&&h[e].logo,name:h[e].name})})})})),Object(u.jsx)(l.a,{path:"*",element:Object(u.jsx)(qe,{authService:t})})]})})},$e=c.a.createContext();function Te(e){var t=e.authService,n=e.menuRepository,c=e.imageRepository,i=Object(a.useState)(),s=Object(r.a)(i,2),j=s[0],l=s[1];return Object(u.jsx)($e.Provider,{value:{user:j,setUser:l},children:Object(u.jsx)(_e,{authService:t,menuRepository:n,imageRepository:c})})}var Je=n(7),Ve=n(8),Ye=function(){function e(t){Object(Je.a)(this,e),this.authProvider=t}return Object(Ve.a)(e,[{key:"googleSignInWithRedirect",value:function(){this.authProvider.logInWithRedirect()}},{key:"signInWithEmailPassword",value:function(e,t){return this.authProvider.signInWithEmailAndPassword(e,t)}},{key:"logout",value:function(){return this.authProvider.signOut()}},{key:"getRedirectResult",value:function(){return this.authProvider.getRedirectResult()}},{key:"onAuthChange",value:function(e){this.authProvider.onAuthStateChanged(e)}}]),e}(),Ze=n(36),Ge=function(){function e(t){Object(Je.a)(this,e),this.database=Object(Ze.c)(t)}return Object(Ve.a)(e,[{key:"addMenu",value:function(e,t,n){Object(Ze.g)(Object(Ze.e)(this.database,e+"/menus/"+n),t)}},{key:"updateMenu",value:function(e,t,n){Object(Ze.h)(Object(Ze.e)(this.database,e+"/menus/"+t),n)}},{key:"deleteMenu",value:function(e,t){Object(Ze.f)(Object(Ze.e)(this.database,e+"/menus/"+t))}},{key:"getMenus",value:function(e,t){var n=Object(Ze.e)(this.database);Object(Ze.b)(Object(Ze.a)(n,e)).then((function(e){e.exists()?t(e.val()):t(null)})).catch((function(e){console.error(e)}))}},{key:"updateCategory",value:function(e,t){Object(Ze.h)(Object(Ze.e)(this.database,e+"/menus/"),t)}},{key:"getDatabase",value:function(e){var t=Object(Ze.e)(this.database);Object(Ze.b)(t).then((function(t){if(t.exists()){var n=t.val();e(n)}else e(null)}))}},{key:"onDatabaseChange",value:function(e){var t=Object(Ze.e)(this.database);Object(Ze.d)(t,(function(t){var n=t.val();e(n)}))}}]),e}(),Ke=function(){function e(){Object(Je.a)(this,e)}return Object(Ve.a)(e,[{key:"imageUpload",value:function(){var e=Object(Z.a)(Y.a.mark((function e(t,n,a){var c,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("file",n),c.append("upload_preset","wgjkx4in"),c.append("folder","Menu Creator/".concat(t,"/Menu Photos")),c.append("tags",a),e.next=7,fetch("https://api.cloudinary.com/v1_1/db7ss52zt/image/upload",{method:"POST",body:c});case 7:return i=e.sent,e.next=10,i.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),Qe=n(129),Xe=n(48),et=new function e(){var t=this;Object(Je.a)(this,e),this.initializeFirebaseApp=function(){return Object(Qe.a)(t.firebaseConfig)},this.signInWithRedirect=function(){var e=Object(Xe.b)(),t=new Xe.a;Object(Xe.f)(e,t)},this.signInWithEmailAndPassword=function(e,t){var n=Object(Xe.b)();return Object(Xe.e)(n,e,t)},this.signOut=function(){var e=Object(Xe.b)();return Object(Xe.g)(e)},this.getRedirectResult=function(){var e=Object(Xe.b)();return Object(Xe.c)(e)},this.onAuthStateChanged=function(e){var t=Object(Xe.b)();Object(Xe.d)(t,(function(t){e(t)}))},this.firebaseConfig={apiKey:"AIzaSyCt2mIHFWq3tlxp2gWtiVt6x9GIpLPtZnw",authDomain:"menu-creator-35f21.firebaseapp.com",projectId:"menu-creator-35f21",storageBucket:"menu-creator-35f21.appspot.com",appId:"1:312681521941:web:71aefc928cdc87ba237f1c"}},tt=et.initializeFirebaseApp(),nt=new Ye(et),at=new Ge(tt),ct=new Ke;s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(Te,{authService:nt,menuRepository:at,imageRepository:ct})}),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.946556fc.chunk.js.map