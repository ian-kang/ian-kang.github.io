(this["webpackJsonpqr-code-menu"]=this["webpackJsonpqr-code-menu"]||[]).push([[0],{157:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(65),r=n.n(i),s=(n(157),n(12)),j=n(70),o=n(22),u=n(238),l=n(0);function d(){return Object(l.jsx)("div",{})}var b=n(243),O=n(244),h=n(245),x=n(39),m=n(237),f=n(88),g=n(263),p=n(277),v=n(272),y=n(130),C=n(280),I=n(271);function w(e){var t=e.path,n=e.text,a=e.startIcon;return Object(l.jsx)(I.a,{startIcon:a,children:Object(l.jsx)(j.b,{to:t,style:{textDecoration:"none",color:"black"},children:n})})}var S=function(e){var t=e.authService,n=Object(x.a)(),c=(Object(m.a)(n.breakpoints.up("lg")),Object(o.f)()),i=Object(a.useContext)(Fe),r=i.user,j=(i.setUser,Object(a.useState)(null)),d=Object(s.a)(j,2),I=d[0],S=d[1];return Object(l.jsxs)("div",{children:[Object(l.jsxs)(u.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"80px",m:"16px",flexWrap:"wrap"},children:[Object(l.jsx)(u.a,{children:Object(l.jsx)(f.a,{variant:"h5",children:"Pairable"})}),r&&r?Object(l.jsxs)(u.a,{children:[Object(l.jsx)(g.a,{title:"Open Setting",children:Object(l.jsx)(p.a,{onClick:function(e){S(e.currentTarget)},children:Object(l.jsx)(v.a,{variant:"rounded",src:"https://res.cloudinary.com/db7ss52zt/image/upload/v1639668058/Menu%20Creator/Logo/Pour_Haus_Wine_Bar_Logo_uhxovp.jpg"})})}),Object(l.jsxs)(y.a,{anchorEl:I,open:Boolean(I),onClose:function(e){S(null)},children:[Object(l.jsxs)(C.a,{onClick:function(e){c("/editor"),S(null)},children:[Object(l.jsx)(p.a,{children:Object(l.jsx)(b.a,{})}),Object(l.jsx)(f.a,{children:"Menu Editor"})]}),Object(l.jsxs)(C.a,{onClick:function(e){c("/menu"),S(null)},children:[Object(l.jsx)(p.a,{children:Object(l.jsx)(O.a,{})}),Object(l.jsx)(f.a,{children:"Your Menu"})]}),Object(l.jsxs)(C.a,{onClick:function(){t.logout().then((function(){c("/login")})).catch((function(e){console.log(e)}))},children:[Object(l.jsx)(p.a,{children:Object(l.jsx)(h.a,{})}),Object(l.jsx)(f.a,{children:"Sign Out"})]})]})]}):Object(l.jsx)(u.a,{children:Object(l.jsx)(w,{path:"/login",text:"Sign In"})})]}),Object(l.jsx)("hr",{})]})};var M=function(e){var t=e.authService,n=e.component;return Object(l.jsxs)(u.a,{children:[Object(l.jsx)(u.a,{children:Object(l.jsx)(S,{authService:t})}),Object(l.jsx)(u.a,{children:n}),Object(l.jsx)(u.a,{sx:{mb:8},children:Object(l.jsx)(d,{})})]})},W=n(31),k=n(274),R=n(128),P=n(248),E=n(246),A=n(268);var D=function(e){var t=e.customerId,n=e.addCategory,c=Object(a.useState)("New Category"),i=Object(s.a)(c,2),r=i[0],j=i[1];return Object(l.jsxs)(k.a,{container:!0,item:!0,xs:12,spacing:2,alignItems:"center",children:[Object(l.jsx)(E.a,{}),Object(l.jsx)(k.a,{item:!0,xs:9,children:Object(l.jsx)(A.a,{required:!0,label:"New category",name:"category",value:r,onChange:function(e){var t=e.target.value;j(t)},fullWidth:!0})}),Object(l.jsx)(k.a,{item:!0,xs:3,children:Object(l.jsx)(I.a,{fullWidth:!0,variant:"contained",startIcon:Object(l.jsx)(P.a,{}),onClick:function(){n(t,r),j("")},children:"Add"})})]})},L=n(21),F=n(284),N=n(249),U=n(285),q=n(286),B=n(287),z=n(250);var H=function(e){var t=e.customerId,n=e.category,c=e.editCategory,i=Object(a.useState)(),r=Object(s.a)(i,2),j=r[0],o=r[1],u=Object(a.useState)(n),d=Object(s.a)(u,2),O=d[0],h=d[1],x=function(){h(n),o(!1)};return Object(l.jsxs)(k.a,{container:!0,item:!0,spacing:2,alignItems:"center",children:[Object(l.jsx)(k.a,{item:!0,xs:9,children:Object(l.jsx)(A.a,{disabled:!0,required:!0,label:"Category",name:"category",value:n,fullWidth:!0})}),Object(l.jsx)(k.a,{item:!0,xs:3,children:Object(l.jsx)(I.a,{fullWidth:!0,variant:"contained",startIcon:Object(l.jsx)(b.a,{}),onClick:function(){o(!0)},children:"Edit"})}),Object(l.jsxs)(F.a,{open:j,onClose:x,children:[Object(l.jsx)(N.a,{children:"Edit"}),Object(l.jsxs)(U.a,{children:[Object(l.jsx)(q.a,{}),Object(l.jsx)(A.a,{sx:{mt:1},required:!0,autoFocus:!0,label:"Category",name:"category",value:O,fullWidth:!0,onChange:function(e){var t=e.target.value;h(t)}})]}),Object(l.jsxs)(B.a,{children:[Object(l.jsx)(I.a,{onClick:x,children:"Cancel"}),Object(l.jsx)(I.a,{onClick:function(){c(t,n,O),h(O),o(!1)},startIcon:Object(l.jsx)(z.a,{}),children:"Save"})]})]})]})},_=n(251),$=n(288);var T=function(e){var t=e.menu,n=e.menus,a=e.handleEdit,c=e.handleDelete;return Object(l.jsxs)(k.a,{container:!0,spacing:2,children:[Object(l.jsx)(k.a,{item:!0,xs:6,children:Object(l.jsx)(A.a,{disabled:!0,required:!0,label:"Menu name",name:"name",value:t.name,fullWidth:!0})}),Object(l.jsx)(k.a,{item:!0,xs:3,children:Object(l.jsxs)(A.a,{disabled:!0,select:!0,label:"Rate",name:"rate",value:t.rate,fullWidth:!0,children:[Object(l.jsx)(C.a,{value:"none",children:"None"},"None"),Object(l.jsx)(C.a,{value:"high",children:"High"},"High"),Object(l.jsx)(C.a,{value:"mid",children:"Mid"},"Mid"),Object(l.jsx)(C.a,{value:"low",children:"Low"},"Low")]})}),Object(l.jsx)(k.a,{item:!0,xs:3,children:Object(l.jsx)(A.a,{disabled:!0,type:"number",label:"Price",name:"price",value:t.price,fullWidth:!0,InputProps:{startAdornment:Object(l.jsx)($.a,{position:"start",children:"$"})}})}),Object(l.jsx)(k.a,{item:!0,xs:12,children:Object(l.jsx)(A.a,{disabled:!0,label:"Description",name:"desc",value:t.desc,fullWidth:!0,multiline:!0})}),t.pairs&&Object(l.jsx)(k.a,{item:!0,xs:12,children:Object(l.jsx)(A.a,{disabled:!0,label:"Best Paired With",name:"pairs",value:t.pairs.map((function(e){return n[e].name})),fullWidth:!0,multiline:!0})}),Object(l.jsxs)(k.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(l.jsx)(k.a,{item:!0,xs:6,children:Object(l.jsx)(I.a,{fullWidth:!0,variant:"contained",startIcon:Object(l.jsx)(b.a,{}),onClick:a,children:"Edit"})}),Object(l.jsx)(k.a,{item:!0,xs:6,children:Object(l.jsx)(I.a,{fullWidth:!0,variant:"contained",startIcon:Object(l.jsx)(_.a,{}),onClick:c,children:"Delete"})})]})]})},J=n(3),V=n.n(J),Y=n(6),G=n(2),K=n(252),Z=n(281),Q=n(283),X=n(269),ee=n(267),te=n(275),ne=n(276),ae=n(264);var ce=function(e){var t=e.open,n=e.setOpen,c=e.menu,i=e.menus,r=e.menusArray,j=e.imageRepository,o=e.updateMenu,d=e.customerId,b=Object(a.useState)(c),O=Object(s.a)(b,2),h=O[0],x=O[1],m=Object(a.useState)(c.img),f=Object(s.a)(m,2),g=f[0],p=f[1],v=Object(a.useState)(),y=Object(s.a)(v,2),w=y[0],S=y[1],M=Object(a.useState)(),R=Object(s.a)(M,2),P=R[0],E=R[1];Object(a.useEffect)((function(){c!==h&&x(c)}),[c]);var D=function(e){if("img"===e.target.name){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);return p(n),void S(t)}}else if("pairs"===e.target.name){var a=e.target.value,c="string"===typeof a?a.split(","):a;return void x(Object(W.a)(Object(W.a)({},h),{},{pairs:c}))}var i=e.target.name,r=e.target.value;x(Object(W.a)(Object(W.a)({},h),{},Object(G.a)({},i,r)))},L=function(){n(!1),x(c),p(c.img),S()},H=function(){var e=Object(Y.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=10;break}return E(!0),e.next=4,j.imageUpload(d,w,[h.menuId,h.category,h.name]);case 4:return t=e.sent,o(d,c.menuId,Object(W.a)(Object(W.a)({},h),{},{img:t.url})),x(c),n(!1),E(!1),e.abrupt("return");case 10:E(!0),o(d,c.menuId,Object(W.a)(Object(W.a)({},h),{},{img:g})),x(h),n(!1),E(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)(F.a,{open:t,onClose:L,children:[Object(l.jsx)(N.a,{children:"Edit"}),Object(l.jsxs)(U.a,{children:[Object(l.jsx)(q.a,{}),Object(l.jsxs)(k.a,{sx:{mt:1},container:!0,item:!0,spacing:2,alignItems:"center",children:[Object(l.jsx)(k.a,{item:!0,xs:12,children:Object(l.jsx)(A.a,{required:!0,autoFocus:!0,label:"Category",name:"category",value:h.category,fullWidth:!0,onChange:D,disabled:P})}),Object(l.jsx)(k.a,{item:!0,xs:6,children:Object(l.jsx)(A.a,{required:!0,autoFocus:!0,label:"Menu name",name:"name",value:h.name,fullWidth:!0,onChange:D,disabled:P})}),Object(l.jsx)(k.a,{item:!0,xs:3,children:Object(l.jsxs)(A.a,{select:!0,label:"Rate",name:"rate",value:h.rate,fullWidth:!0,onChange:D,disabled:P,children:[Object(l.jsx)(C.a,{value:"none",children:"None"},"None"),Object(l.jsx)(C.a,{value:"high",children:"High"},"High"),Object(l.jsx)(C.a,{value:"mid",children:"Mid"},"Mid"),Object(l.jsx)(C.a,{value:"low",children:"Low"},"Low")]})}),Object(l.jsx)(k.a,{item:!0,xs:3,children:Object(l.jsx)(A.a,{type:"number",label:"Price",name:"price",value:h.price,fullWidth:!0,InputProps:{startAdornment:Object(l.jsx)($.a,{position:"start",children:"$"})},onChange:D,disabled:P})}),g&&Object(l.jsx)(k.a,{container:!0,item:!0,xs:12,justifyContent:"center",alignItems:"center",children:Object(l.jsx)(k.a,{item:!0,children:Object(l.jsx)("img",{src:g,alt:"",loading:"lazy",style:{width:"100%",height:"100%"}})})}),Object(l.jsxs)(k.a,{container:!0,item:!0,xs:12,spacing:2,justifyContent:"center",alignItems:"center",children:[Object(l.jsx)(k.a,{item:!0,children:Object(l.jsx)(I.a,{variant:"contained",component:"span",startIcon:Object(l.jsx)(_.a,{}),onClick:function(){p(""),S(null)},disabled:P,children:"Delete Image"})}),Object(l.jsx)(k.a,{item:!0,children:Object(l.jsxs)("label",{htmlFor:"contained-button-file-".concat(h.menuId),children:[Object(l.jsx)(Z.a,{sx:{display:"none"},type:"file",inputProps:{accept:"image/*"},id:"contained-button-file-".concat(h.menuId),name:"img",onChange:D,disabled:P}),Object(l.jsx)(I.a,{variant:"contained",component:"span",startIcon:Object(l.jsx)(K.a,{}),disabled:P,children:"Upload"})]})})]}),Object(l.jsx)(k.a,{item:!0,xs:12,children:Object(l.jsx)(A.a,{label:"Description",name:"desc",value:h.desc,fullWidth:!0,multiline:!0,onChange:D,disabled:P})}),Object(l.jsx)(k.a,{item:!0,xs:12,children:Object(l.jsxs)(Q.a,{fullWidth:!0,children:[Object(l.jsx)(X.a,{id:"best-paired-with-".concat(h.menuId),children:"Best Paired With"}),Object(l.jsx)(ee.a,{labelId:"best-paired-with-".concat(h.menuId),multiple:!0,value:h.pairs?h.pairs:[],name:"pairs",label:"Best Paired With",onChange:D,disabled:P,input:Object(l.jsx)(te.a,{}),renderValue:function(e){return Object(l.jsx)(u.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object(l.jsx)(ne.a,{label:i[e].name},e)}))})},children:r.map((function(e){return Object(l.jsx)(C.a,{value:e.menuId,children:e.name})}))})]})})]})]}),Object(l.jsxs)(B.a,{children:[Object(l.jsx)(I.a,{onClick:L,disabled:P,children:"Cancel"}),Object(l.jsx)(ae.a,{loading:P,onClick:H,startIcon:Object(l.jsx)(z.a,{}),children:"Save"})]})]})};var ie=function(e){var t=e.imageRepository,n=e.customerId,c=e.menu,i=e.menus,r=e.menusArray,j=e.updateMenu,o=e.deleteMenu,u=Object(a.useState)(),d=Object(s.a)(u,2),b=d[0],O=d[1];return Object(l.jsxs)(k.a,{container:!0,item:!0,spacing:2,children:[Object(l.jsx)(T,{menu:c,menus:i,handleEdit:function(e){O(!0)},handleDelete:function(e){o(n,c.menuId)}}),Object(l.jsx)(ce,{open:b,setOpen:O,menu:c,menus:i,menusArray:r,imageRepository:t,updateMenu:j,customerId:n})]})};var re=function(e){var t=e.imageRepository,n=e.customerId,c=e.category,i=e.addMenu,r=Object(a.useState)({menuId:Date.now(),category:c,name:"",rate:"none",price:"",desc:"",img:"",pairs:[]}),j=Object(s.a)(r,2),o=j[0],u=j[1],d=Object(a.useState)(),b=Object(s.a)(d,2),O=b[0],h=b[1],x=Object(a.useState)(!1),m=Object(s.a)(x,2),f=m[0],g=m[1];Object(a.useEffect)((function(){u(Object(W.a)(Object(W.a)({},o),{},{category:c}))}),[c]);var p=function(e){var t=e.target.name;if("img"===t){var n=e.target.files[0];if(n){var a=URL.createObjectURL(n);return h(n),void u(Object(W.a)(Object(W.a)({},o),{},Object(G.a)({category:c},t,a)))}h("")}var i=e.target.value;u(Object(W.a)(Object(W.a)({},o),{},Object(G.a)({category:c},t,i)))},v=function(){var e=Object(Y.a)(V.a.mark((function e(){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=10;break}return g(!0),e.next=4,t.imageUpload(n,O,[o.menuId,o.category,o.name]);case 4:return a=e.sent,i(n,Object(W.a)(Object(W.a)({},o),{},{img:a.url}),o.menuId),u({menuId:Date.now(),category:c,name:"",rate:"none",price:"",desc:"",img:"",pairs:[]}),h(),g(!1),e.abrupt("return");case 10:g(!0),i(n,o,o.menuId),u({menuId:Date.now(),category:c,name:"",rate:"none",price:"",desc:"",img:"",pairs:[]}),g(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{children:Object(l.jsxs)(k.a,{container:!0,item:!0,spacing:2,children:[Object(l.jsx)(k.a,{item:!0,xs:6,children:Object(l.jsx)(A.a,{required:!0,label:"Menu name",name:"name",value:o.name,onChange:p,fullWidth:!0,disabled:f})}),Object(l.jsx)(k.a,{item:!0,xs:3,children:Object(l.jsxs)(A.a,{select:!0,label:"Rate",name:"rate",value:o.rate,onChange:p,fullWidth:!0,disabled:f,children:[Object(l.jsx)(C.a,{value:"none",children:"None"},"None"),Object(l.jsx)(C.a,{value:"high",children:"High"},"High"),Object(l.jsx)(C.a,{value:"mid",children:"Mid"},"Mid"),Object(l.jsx)(C.a,{value:"low",children:"Low"},"Low")]})}),Object(l.jsx)(k.a,{item:!0,xs:3,children:Object(l.jsx)(A.a,{type:"number",label:"Price",name:"price",value:o.price,onChange:p,disabled:f,fullWidth:!0,InputProps:{startAdornment:Object(l.jsx)($.a,{position:"start",children:"$"})}})}),o.img&&Object(l.jsx)(k.a,{container:!0,item:!0,xs:12,justifyContent:"center",alignItems:"center",children:Object(l.jsx)(k.a,{item:!0,children:Object(l.jsx)("img",{src:o.img,alt:"",loading:"lazy",style:{width:"100%",height:"100%"}})})}),Object(l.jsx)(k.a,{container:!0,item:!0,xs:12,justifyContent:"right",children:Object(l.jsx)(k.a,{item:!0,children:Object(l.jsxs)("label",{htmlFor:"contained-button-file-".concat(c),children:[Object(l.jsx)(Z.a,{sx:{display:"none"},type:"file",inputProps:{accept:"image/*"},id:"contained-button-file-".concat(c),name:"img",onChange:p,disabled:f}),Object(l.jsx)(I.a,{variant:"contained",component:"span",startIcon:Object(l.jsx)(K.a,{}),disabled:f,children:"Image Upload"})]})})}),Object(l.jsx)(k.a,{item:!0,xs:12,children:Object(l.jsx)(A.a,{label:"Description",name:"desc",value:o.desc,onChange:p,fullWidth:!0,multiline:!0,disabled:f})}),Object(l.jsx)(k.a,{item:!0,xs:12,children:Object(l.jsx)(ae.a,{loading:f,fullWidth:!0,variant:"outlined",startIcon:Object(l.jsx)(P.a,{}),onClick:v,children:"Add"})})]})})},se=n(259),je=n(260),oe=n(261),ue=n(289),le=n(290),de=n(291),be=n(292),Oe=n(258),he=n(270),xe=n(257),me=n(253),fe=n(293),ge=n(254),pe=n(255),ve=n(256),ye=n(279);var Ce=function(e){var t=e.menu;return Object(l.jsx)(ye.a,{sx:{p:1},children:Object(l.jsxs)(he.a,{secondaryAction:Object(l.jsxs)(f.a,{variant:"subtitle2",children:["$",t.price]}),children:["high"===t.rate?Object(l.jsx)(me.a,{children:Object(l.jsx)(ge.a,{})}):"mid"===t.rate?Object(l.jsx)(me.a,{children:Object(l.jsx)(pe.a,{})}):"low"===t.rate?Object(l.jsx)(me.a,{children:Object(l.jsx)(ve.a,{})}):null,Object(l.jsx)(xe.a,{primary:t.name,secondary:t.desc})]})})};var Ie=function(e){var t=e.menu,n=e.menus,c=Object(a.useState)(!1),i=Object(s.a)(c,2),r=i[0],j=i[1];return Object(l.jsxs)(ue.a,{children:[Object(l.jsx)(le.a,{title:t.name,action:Object(l.jsxs)(f.a,{variant:"caption",children:["$",t.price]})}),t.img&&Object(l.jsx)(de.a,{component:"img",height:"150",image:t.img,alt:"No Image"}),Object(l.jsx)(be.a,{children:Object(l.jsx)(f.a,{variant:"body2",color:"text.secondary",children:t.desc})}),Object(l.jsxs)(Oe.a,{onClick:function(){j(!r)},children:[Object(l.jsx)(he.a,{secondaryAction:Object(l.jsx)(xe.a,{primary:"Best Paired With"}),children:Object(l.jsxs)(me.a,{children:[Object(l.jsx)(O.a,{}),Object(l.jsx)(se.a,{})]})}),r?Object(l.jsx)(je.a,{}):Object(l.jsx)(oe.a,{})]}),Object(l.jsx)(fe.a,{in:r,timeout:"auto",unmountOnExit:!0,children:t.pairs&&t.pairs.map((function(e){return Object(l.jsx)(Ce,{menu:n[e]},e)}))})]})};var we=function(e){var t=e.data,n=e.imageRepository,a=e.customerId,c=e.updateMenu,i=e.deleteMenu,r=e.addMenu,s=e.editCategory,j=Object.values(t.menus),o=Object(L.a)(new Set(j.map((function(e){return e.category}))));return Object(l.jsx)(l.Fragment,{children:o.map((function(e){return Object(l.jsxs)(u.a,{children:[Object(l.jsx)(u.a,{sx:{mt:4},children:Object(l.jsx)(E.a,{})}),Object(l.jsx)(u.a,{children:Object(l.jsxs)(k.a,{container:!0,spacing:4,sx:{mt:1},children:[Object(l.jsx)(k.a,{item:!0,container:!0,xs:12,md:6,justifyContent:"center",alignItems:"center",children:Object(l.jsx)(k.a,{item:!0,children:Object(l.jsx)(f.a,{variant:"h6",children:e})})}),Object(l.jsx)(k.a,{item:!0,xs:12,md:6,children:Object(l.jsx)(H,{customerId:a,category:e,editCategory:s})}),j.filter((function(t){return t.category===e})).map((function(e){return Object(l.jsxs)(k.a,{container:!0,item:!0,xs:12,alignItems:"center",spacing:4,children:[Object(l.jsx)(k.a,{item:!0,xs:12,md:6,children:Object(l.jsx)(Ie,{menu:e,menus:t.menus})}),Object(l.jsx)(k.a,{item:!0,xs:12,md:6,children:Object(l.jsx)(ie,{imageRepository:n,customerId:a,menu:e,menus:t.menus,menusArray:j,categories:o,updateMenu:c,deleteMenu:i})})]})})),Object(l.jsx)(k.a,{item:!0,xs:12,md:6,children:Object(l.jsx)(re,{imageRepository:n,customerId:a,category:e,addMenu:r})})]})})]})}))})};function Se(e){var t=e.customerId,n=e.menuRepository,c=e.imageRepository,i=Object(a.useState)({}),r=Object(s.a)(i,2),j=r[0],o=r[1],u=Object(a.useState)(!0),d=Object(s.a)(u,2),b=d[0],O=d[1];Object(a.useEffect)((function(){n.getMenus(t,(function(e){if(e)return o(e),void O(!1);O(!1)}))}),[]);return Object(l.jsx)(l.Fragment,{children:b?Object(l.jsx)(k.a,{container:!0,justifyContent:"center",children:Object(l.jsx)(k.a,{item:!0,children:Object(l.jsx)(R.CircleLoader,{loading:b})})}):Object(l.jsxs)(k.a,{container:!0,children:[Object(l.jsx)(k.a,{container:!0,item:!0,justifyContent:"center",children:Object(l.jsx)(k.a,{item:!0,children:Object(l.jsx)(f.a,{variant:"h5",children:"Menu Editor"})})}),Object(l.jsx)(k.a,{container:!0,item:!0,justifyContent:"center",children:Object(l.jsxs)(k.a,{container:!0,item:!0,xs:10,spacing:4,children:[Object.keys(j).find((function(e){return"menus"===e}))?Object(l.jsx)(k.a,{container:!0,item:!0,xs:12,children:Object(l.jsx)(we,{data:j,imageRepository:c,customerId:t,updateMenu:function(e,t,a){n.updateMenu(e,t,a),n.getMenus(e,(function(e){o(e)}))},deleteMenu:function(e,t){n.deleteMenu(e,t),n.getMenus(e,(function(e){o(e||{})}))},addMenu:function(e,t,a){n.addMenu(e,t,a),n.getMenus(e,(function(e){o(e)}))},editCategory:function(e,t,a){var c=Object(W.a)({},j.menus);Object.keys(c).forEach((function(e){c[e].category!==t||(c[e].category=a)})),n.updateCategory(e,c),n.getMenus(e,(function(e){o(e)}))}})}):null,Object(l.jsx)(k.a,{container:!0,item:!0,xs:12,children:Object(l.jsx)(D,{customerId:t,addCategory:function(e,t){var a=Date.now();n.addMenu(e,{menuId:a,category:t,name:"New menu",rate:"none",price:"",desc:"New menu description",img:"",pairs:[]},a),n.getMenus(e,(function(e){o(e)}))}})})]})})]})})}var Me=n(265),We=n(294);var ke=function(e){var t=e.category,n=e.categories,a=e.handleTabChange;return Object(l.jsx)(Me.a,{value:t,onChange:a,variant:"scrollable",scrollButtons:"auto",children:n.map((function(e){return Object(l.jsx)(We.a,{label:e,value:e})}))})},Re=n(262);var Pe=function(e){var t=e.menus,n=Object(a.useState)(),c=Object(s.a)(n,2),i=c[0],r=c[1],j=Object.values(t),o=Object(L.a)(new Set(j.map((function(e){return e.category}))));return Object(a.useEffect)((function(){r(j[0].category)}),[]),Object(l.jsxs)(k.a,{container:!0,item:!0,justifyContent:"center",children:[Object(l.jsx)(k.a,{container:!0,item:!0,justifyContent:"center",children:Object(l.jsx)(k.a,{item:!0,children:Object(l.jsx)(f.a,{variant:"h5",children:"Your Menu"})})}),Object(l.jsxs)(k.a,{container:!0,item:!0,justifyContent:"center",xs:10,children:[Object(l.jsx)(k.a,{item:!0,xs:12,sx:{mb:4,mt:4},children:Object(l.jsx)(Re.a,{sx:{display:"flex",justifyContent:"center",borderBottom:1},children:Object(l.jsx)(ke,{category:i,categories:o,handleTabChange:function(e,t){r(t)}})})}),Object(l.jsx)(k.a,{container:!0,justifyContent:"center",children:Object(l.jsx)(k.a,{item:!0,container:!0,xs:10,spacing:2,justifyContent:"flex-start",alignItems:"flex-start",children:i&&j.filter((function(e){return e.category===i})).map((function(e){return Object(l.jsx)(k.a,{item:!0,xs:12,md:6,lg:4,xl:3,children:Object(l.jsx)(Ie,{menu:e,menus:t},e.menuId)})}))})})]})]})};var Ee=function(e){var t=e.customerId,n=e.menuRepository,c=Object(a.useState)({}),i=Object(s.a)(c,2),r=i[0],j=i[1];return Object(a.useEffect)((function(){n.getMenus(t,(function(e){e&&j(e)}))}),[]),Object(l.jsx)(k.a,{container:!0,justifyContent:"center",children:Object.keys(r).find((function(e){return"menus"===e}))?Object(l.jsx)(Pe,{menus:r.menus},Date.now()):Object(l.jsx)(k.a,{item:!0,children:"No Data Available"})})};var Ae=function(e){var t=e.authService,n=Object(o.f)(),c=Object(a.useContext)(Fe),i=c.user,r=c.setUser,j=Object(a.useState)(""),u=Object(s.a)(j,2),d=u[0],b=u[1],O=Object(a.useState)(""),h=Object(s.a)(O,2),x=h[0],m=h[1];Object(a.useEffect)((function(){t.onAuthChange((function(e){e?(r(e),n("/menu")):r(void 0)}))}),[i,r,t,n]);var g=function(e){var t=e.target.name,n=e.target.value;switch(t){case"email":return void b(n);case"password":return void m(n);default:return}};return Object(l.jsxs)(F.a,{open:!0,maxWidth:"xs",fullWidth:!0,children:[Object(l.jsx)(N.a,{sx:{textAlign:"center"},children:Object(l.jsx)(f.a,{variant:"h5",children:"Log in"})}),Object(l.jsx)(k.a,{container:!0,justifyContent:"center",children:Object(l.jsxs)(k.a,{container:!0,item:!0,direction:"column",justifyContent:"space-around",spacing:2,sx:{p:4,maxWidth:"400px"},children:[Object(l.jsx)(k.a,{item:!0,children:Object(l.jsx)(f.a,{children:"Email"})}),Object(l.jsx)(k.a,{item:!0,children:Object(l.jsx)(A.a,{autoFocus:!0,fullWidth:!0,variant:"outlined",label:"Email",name:"email",onChange:g})}),Object(l.jsx)(k.a,{item:!0,children:Object(l.jsx)(f.a,{children:"Password"})}),Object(l.jsx)(k.a,{item:!0,children:Object(l.jsx)(A.a,{fullWidth:!0,variant:"outlined",label:"Password",type:"password",name:"password",onChange:g})}),Object(l.jsx)(k.a,{item:!0,container:!0,justifyContent:"center",children:Object(l.jsx)(k.a,{item:!0,xs:12,children:Object(l.jsx)(I.a,{fullWidth:!0,variant:"contained",size:"large",onClick:function(){t.signInWithEmailPassword(d,x)},children:"Log in"})})})]})})]})};var De=function(e){var t=e.menus,n=e.logo;return Object(l.jsxs)(k.a,{container:!0,justifyContent:"center",children:[Object(l.jsx)(k.a,{item:!0,children:Object(l.jsx)(de.a,{component:"img",height:"140",image:n,alt:"Logo"})}),t?Object(l.jsx)(Pe,{menus:t},Date.now()):Object(l.jsx)(k.a,{item:!0,children:"No Data Available"})]})};var Le=function(e){var t=e.authService,n=e.menuRepository,c=e.imageRepository,i=Object(a.useContext)(Fe).user,r=Object(a.useState)(),u=Object(s.a)(r,2),d=u[0],b=u[1],O=Object(a.useState)(),h=Object(s.a)(O,2),x=(h[0],h[1]),m=Object(a.useState)(),f=Object(s.a)(m,2),g=f[0],p=f[1];return Object(a.useEffect)((function(){n.getDatabase((function(e){var t=Object.keys(e);b(t),p(e),i&&x(e[i.uid].menus)}))}),[n,i]),Object(l.jsx)(j.a,{children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/login",element:Object(l.jsx)(Ae,{authService:t})}),i&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(o.a,{path:"/editor",element:Object(l.jsx)(M,{authService:t,component:Object(l.jsx)(Se,{customerId:i.uid,menuRepository:n,imageRepository:c})})}),Object(l.jsx)(o.a,{path:"/menu",element:Object(l.jsx)(M,{authService:t,component:Object(l.jsx)(Ee,{customerId:i.uid,menuRepository:n})})})]}),d&&g&&d.map((function(e){return Object(l.jsx)(o.a,{path:"/menu/".concat(e),element:Object(l.jsx)(M,{authService:t,component:Object(l.jsx)(De,{menus:g[e].menus,logo:g[e].logo&&g[e].logo})})})})),Object(l.jsx)(o.a,{path:"*",element:Object(l.jsx)(Ae,{authService:t})})]})})},Fe=c.a.createContext();function Ne(e){var t=e.authService,n=e.menuRepository,c=e.imageRepository,i=Object(a.useState)(),r=Object(s.a)(i,2),j=r[0],o=r[1];return Object(l.jsx)(Fe.Provider,{value:{user:j,setUser:o},children:Object(l.jsx)(Le,{authService:t,menuRepository:n,imageRepository:c})})}var Ue=n(7),qe=n(8),Be=function(){function e(t){Object(Ue.a)(this,e),this.authProvider=t}return Object(qe.a)(e,[{key:"googleSignInWithRedirect",value:function(){this.authProvider.logInWithRedirect()}},{key:"signInWithEmailPassword",value:function(e,t){return this.authProvider.signInWithEmailAndPassword(e,t)}},{key:"logout",value:function(){return this.authProvider.signOut()}},{key:"getRedirectResult",value:function(){return this.authProvider.getRedirectResult()}},{key:"onAuthChange",value:function(e){this.authProvider.onAuthStateChanged(e)}}]),e}(),ze=n(36),He=function(){function e(t){Object(Ue.a)(this,e),this.database=Object(ze.c)(t)}return Object(qe.a)(e,[{key:"addMenu",value:function(e,t,n){Object(ze.g)(Object(ze.e)(this.database,e+"/menus/"+n),t)}},{key:"updateMenu",value:function(e,t,n){Object(ze.h)(Object(ze.e)(this.database,e+"/menus/"+t),n)}},{key:"deleteMenu",value:function(e,t){Object(ze.f)(Object(ze.e)(this.database,e+"/menus/"+t))}},{key:"getMenus",value:function(e,t){var n=Object(ze.e)(this.database);Object(ze.b)(Object(ze.a)(n,e)).then((function(e){e.exists()?t(e.val()):t(null)})).catch((function(e){console.error(e)}))}},{key:"updateCategory",value:function(e,t){Object(ze.h)(Object(ze.e)(this.database,e+"/menus/"),t)}},{key:"getDatabase",value:function(e){var t=Object(ze.e)(this.database);Object(ze.b)(t).then((function(t){if(t.exists()){var n=t.val();e(n)}else e(null)}))}},{key:"onDatabaseChange",value:function(e){var t=Object(ze.e)(this.database);Object(ze.d)(t,(function(t){var n=t.val();e(n)}))}}]),e}(),_e=function(){function e(){Object(Ue.a)(this,e)}return Object(qe.a)(e,[{key:"imageUpload",value:function(){var e=Object(Y.a)(V.a.mark((function e(t,n,a){var c,i;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("file",n),c.append("upload_preset","wgjkx4in"),c.append("folder","Menu Creator/".concat(t,"/Menu Photos")),c.append("tags",a),e.next=7,fetch("https://api.cloudinary.com/v1_1/db7ss52zt/image/upload",{method:"POST",body:c});case 7:return i=e.sent,e.next=10,i.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),$e=n(129),Te=n(48),Je=new function e(){var t=this;Object(Ue.a)(this,e),this.initializeFirebaseApp=function(){return Object($e.a)(t.firebaseConfig)},this.signInWithRedirect=function(){var e=Object(Te.b)(),t=new Te.a;Object(Te.f)(e,t)},this.signInWithEmailAndPassword=function(e,t){var n=Object(Te.b)();return Object(Te.e)(n,e,t)},this.signOut=function(){var e=Object(Te.b)();return Object(Te.g)(e)},this.getRedirectResult=function(){var e=Object(Te.b)();return Object(Te.c)(e)},this.onAuthStateChanged=function(e){var t=Object(Te.b)();Object(Te.d)(t,(function(t){e(t)}))},this.firebaseConfig={apiKey:"AIzaSyCt2mIHFWq3tlxp2gWtiVt6x9GIpLPtZnw",authDomain:"menu-creator-35f21.firebaseapp.com",projectId:"menu-creator-35f21",storageBucket:"menu-creator-35f21.appspot.com",appId:"1:312681521941:web:71aefc928cdc87ba237f1c"}},Ve=Je.initializeFirebaseApp(),Ye=new Be(Je),Ge=new He(Ve),Ke=new _e;r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(Ne,{authService:Ye,menuRepository:Ge,imageRepository:Ke})}),document.getElementById("root"))}},[[194,1,2]]]);
//# sourceMappingURL=main.2cf5cd8f.chunk.js.map