(this["webpackJsonpqr-code-menu"]=this["webpackJsonpqr-code-menu"]||[]).push([[0],{156:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(52),r=a.n(i),s=(a(156),a(10)),j=a(57),o=a(24),d=a(239),l=a(0);function u(){return Object(l.jsx)("div",{})}var b=a(240),O=a(245),h=a(246),x=a(247),m=a(279),p=a(92),f=a(268),g=a(286),v=a(280),y=a(130),C=a(282);function I(e){var t=e.path,a=e.text,n=e.startIcon;return Object(l.jsx)(m.a,{startIcon:n,children:Object(l.jsx)(j.b,{to:t,style:{textDecoration:"none",color:"black"},children:a})})}var w=function(e){var t=e.customerId,a=e.authService,c=e.menuRepository,i=Object(o.f)(),r=Object(n.useContext)(Ge).user,j=Object(n.useState)(null),u=Object(s.a)(j,2),w=u[0],S=u[1],k=Object(n.useState)({}),P=Object(s.a)(k,2),W=P[0],R=P[1];return Object(n.useEffect)((function(){c.getCustomerInfo(t,(function(e){e&&R(e)}))}),[t,c]),Object(l.jsxs)("div",{children:[Object(l.jsxs)(d.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"50px",m:2,ml:3,flexWrap:"wrap"},children:[Object(l.jsx)(d.a,{children:Object(l.jsx)(m.a,{sx:{color:"black"},startIcon:Object(l.jsx)(b.a,{}),onClick:function(){i("/menu")},children:Object(l.jsx)(p.a,{children:"Pairable"})})}),r&&r?Object(l.jsxs)(d.a,{children:[Object(l.jsx)(f.a,{title:"Open Setting",children:Object(l.jsx)(g.a,{onClick:function(e){S(e.currentTarget)},children:Object(l.jsx)(v.a,{variant:"rounded",src:W&&W.logo})})}),Object(l.jsxs)(y.a,{anchorEl:w,open:Boolean(w),onClose:function(){S(null)},children:[Object(l.jsxs)(C.a,{onClick:function(){i("/profile"),S(null)},children:[Object(l.jsx)(g.a,{children:Object(l.jsx)(O.a,{})}),Object(l.jsx)(p.a,{children:"Profile"})]}),Object(l.jsxs)(C.a,{onClick:function(){i("/editor"),S(null)},children:[Object(l.jsx)(g.a,{children:Object(l.jsx)(h.a,{})}),Object(l.jsx)(p.a,{children:"Menu Editor"})]}),Object(l.jsxs)(C.a,{onClick:function(){i("/menu"),S(null)},children:[Object(l.jsx)(g.a,{children:Object(l.jsx)(b.a,{})}),Object(l.jsx)(p.a,{children:"Your Menu"})]}),Object(l.jsxs)(C.a,{onClick:function(){a.logout().then((function(){i("/login")})).catch((function(e){console.log(e)}))},children:[Object(l.jsx)(g.a,{children:Object(l.jsx)(x.a,{})}),Object(l.jsx)(p.a,{children:"Sign Out"})]})]})]}):Object(l.jsx)(d.a,{children:Object(l.jsx)(I,{path:"/login",text:"Sign In"})})]}),Object(l.jsx)("hr",{})]})};var S=function(e){var t=e.customerId,a=e.menuRepository,n=e.authService,c=e.component;return Object(l.jsxs)(d.a,{children:[Object(l.jsx)(d.a,{sx:{mb:4},children:Object(l.jsx)(w,{customerId:t,authService:n,menuRepository:a})}),Object(l.jsx)(d.a,{children:c}),Object(l.jsx)(d.a,{sx:{mb:8},children:Object(l.jsx)(u,{})})]})},k=a(259),P=a(260),W=a(283),R=a(276),E=a(253),M=a(255),A=a(256),B=a(257),L=a(289),U=a(290),D=a(291),F=a(292),N=a(254),z=a(275),T=a(248),V=a(293),$=a(249),H=a(250),J=a(251),q=a(288),_=a(252);var Y=function(e){var t=e.menu;return Object(l.jsx)(q.a,{sx:{pl:4},dense:!0,children:Object(l.jsxs)(z.a,{children:["high"===t.rate?Object(l.jsx)(T.a,{children:Object(l.jsx)($.a,{})}):"mid"===t.rate?Object(l.jsx)(T.a,{children:Object(l.jsx)(H.a,{})}):"low"===t.rate?Object(l.jsx)(T.a,{children:Object(l.jsx)(J.a,{})}):null,Object(l.jsx)(_.a,{sx:{width:"50%"},primary:t.name,secondary:t.desc}),Object(l.jsx)(_.a,{sx:{width:"50%",textAlign:"right"},primary:Object(l.jsxs)(p.a,{variant:"subtitle2",children:["$",t.price,t.priceB&&" / $".concat(t.priceB)]})})]})})};var Z=function(e){var t=e.menu,a=e.menus,c=e.type,i=e.editMenu,r=e.deleteMenu,j=Object(n.useState)(!1),o=Object(s.a)(j,2),u=o[0],O=o[1];return Object(l.jsxs)(L.a,{sx:{width:"100%"},children:["edit"===c?Object(l.jsx)(U.a,{title:t.name,subheader:Object(l.jsxs)(p.a,{sx:{mt:1},variant:"subtitle2",children:["$",t.price,t.priceB&&" / $".concat(t.priceB)]}),action:Object(l.jsxs)(d.a,{sx:{ml:1},children:[Object(l.jsx)(g.a,{onClick:function(){i(t.menuId)},children:Object(l.jsx)(h.a,{})}),Object(l.jsx)(g.a,{onClick:function(){r(t.menuId)},children:Object(l.jsx)(E.a,{})})]})}):Object(l.jsx)(U.a,{title:t.name,action:Object(l.jsxs)(p.a,{sx:{mt:1.5,ml:1},variant:"subtitle2",children:["$",t.price,t.priceB&&" / $".concat(t.priceB)]})}),t.img&&Object(l.jsx)(D.a,{component:"img",height:"150",image:t.img,alt:"No Image"}),Object(l.jsx)(F.a,{children:Object(l.jsx)(p.a,{variant:"body2",color:"text.secondary",children:t.desc})}),Object(l.jsxs)(N.a,{onClick:function(){O(!u)},children:[Object(l.jsx)(z.a,{secondaryAction:Object(l.jsx)(p.a,{variant:"body2",children:"Best Paired With"}),children:Object(l.jsxs)(T.a,{children:[Object(l.jsx)(b.a,{}),Object(l.jsx)(M.a,{})]})}),u?Object(l.jsx)(A.a,{}):Object(l.jsx)(B.a,{})]}),Object(l.jsx)(V.a,{in:u,timeout:"auto",unmountOnExit:!0,children:t.pairs&&t.pairs.map((function(e){return Object(l.jsx)(Y,{menu:a[e]},e)}))})]})},G=a(270),K=a(294);var Q=function(e){var t=e.category,a=e.categories,n=e.handleTabChange;return Object(l.jsx)(G.a,{value:t,onChange:n,variant:"scrollable",scrollButtons:"auto",children:a.map((function(e){return Object(l.jsx)(K.a,{label:e,value:e},e)}))})},X=a(258);var ee=function(e){var t=e.menus,a=Object(n.useState)(t.categoryOrder[0]),c=Object(s.a)(a,2),i=c[0],r=c[1];return Object(l.jsxs)(W.a,{container:!0,item:!0,justifyContent:"center",xs:10,children:[Object(l.jsx)(W.a,{item:!0,xs:12,sx:{mb:4},children:Object(l.jsx)(X.a,{sx:{display:"flex",justifyContent:"center"},children:Object(l.jsx)(Q,{category:i,categories:t.categoryOrder,handleTabChange:function(e,t){r(t)}})})}),Object(l.jsx)(W.a,{container:!0,justifyContent:"center",children:Object(l.jsx)(W.a,{item:!0,container:!0,xs:10,spacing:2,justifyContent:"flex-start",alignItems:"flex-start",children:i&&t.categories[i].menuOrder&&t.categories[i].menuOrder.map((function(e){return Object(l.jsx)(W.a,{item:!0,xs:12,md:6,lg:4,xl:3,children:Object(l.jsx)(Z,{menu:t.items[e],menus:t.items,type:"menu"},e)},e)}))})})]})};function te(e){var t=e.menu,a=e.menus,c=Object(n.useState)(!1),i=Object(s.a)(c,2),r=i[0],j=i[1];return Object(l.jsxs)(q.a,{children:[Object(l.jsx)(z.a,{secondaryAction:Object(l.jsxs)(p.a,{variant:"subtitle2",children:["$",t.price,t.priceB&&" / $".concat(t.priceB)]}),children:Object(l.jsx)(_.a,{primary:t.name,secondary:t.desc})}),t.pairs?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(N.a,{onClick:function(){j(!r)},children:[Object(l.jsx)(z.a,{secondaryAction:Object(l.jsx)(p.a,{variant:"body2",children:"Best Paired With"}),children:Object(l.jsxs)(T.a,{children:[Object(l.jsx)(b.a,{}),Object(l.jsx)(M.a,{})]})}),r?Object(l.jsx)(A.a,{}):Object(l.jsx)(B.a,{})]}),Object(l.jsx)(V.a,{sx:{borderBottom:"1px solid",borderRadius:4},in:r,timeout:"auto",unmountOnExit:!0,children:t.pairs&&t.pairs.map((function(e){return Object(l.jsx)(Y,{menu:a[e]},e)}))})]}):null]})}var ae=function(e){var t=e.menus,a=e.category;return Object(l.jsx)(l.Fragment,{children:t.categories[a].menuOrder&&t.categories[a].menuOrder.map((function(e){return Object(l.jsx)(te,{menus:t.items,menu:t.items[e]},e)}))})};function ne(e){var t=e.menus;return Object(l.jsx)(W.a,{item:!0,container:!0,justifyContent:"center",xs:10,sm:8,md:6,lg:6,xl:4,children:t.categoryOrder.map((function(e){return Object(l.jsxs)(W.a,{item:!0,container:!0,direction:"column",children:[Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(p.a,{variant:"h5",children:e})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(ae,{menus:t,category:e})})]},e)}))})}var ce=function(e){var t=e.customerId,a=e.menuRepository,c=Object(n.useState)({}),i=Object(s.a)(c,2),r=i[0],j=i[1],o=Object(n.useState)(!0),d=Object(s.a)(o,2),u=d[0],b=d[1];return Object(n.useEffect)((function(){a.getCustomerInfo(t,(function(e){e&&j(e)}))}),[t,a]),Object(l.jsxs)(W.a,{container:!0,item:!0,alignItems:"center",direction:"column",spacing:4,children:[Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(p.a,{variant:"h5",children:"Your Menu"})}),Object(l.jsxs)(W.a,{item:!0,container:!0,justifyContent:"center",alignItems:"center",children:[Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(k.a,{})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(R.a,{checked:u,onChange:function(e){b(!u)}})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(P.a,{})})]}),Object(l.jsx)(W.a,{container:!0,item:!0,justifyContent:"center",xs:10,children:Object.keys(r).find((function(e){return"menus"===e}))?u?Object(l.jsx)(ee,{menus:r.menus},Date.now()):Object(l.jsx)(ne,{menus:r.menus}):Object(l.jsx)(W.a,{item:!0,children:"No Data Available"})})]})},ie=a(298),re=a(262),se=a(269),je=a(271),oe=a(277);function de(e){var t=e.authService,a=e.setForgotPassword,c=Object(n.useState)(),i=Object(s.a)(c,2),r=i[0],j=i[1],o=Object(n.useState)(),d=Object(s.a)(o,2),u=d[0],b=d[1],O=Object(n.useState)(!1),h=Object(s.a)(O,2),x=h[0],f=h[1];return Object(l.jsx)(W.a,{container:!0,justifyContent:"center",children:Object(l.jsxs)(W.a,{container:!0,item:!0,direction:"column",justifyContent:"space-around",spacing:2,sx:{p:4,maxWidth:"400px"},children:[Object(l.jsx)(W.a,{item:!0,container:!0,justifyContent:"center",children:Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(p.a,{variant:"h5",children:"Reset Password"})})}),u?Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(je.a,{severity:u.type,children:u.msg})}):Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(p.a,{variant:"subtitle2",children:"Enter the email address you used to register with Pairable and we'll send you instructions to reset your password."})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(oe.a,{autoFocus:!0,fullWidth:!0,type:"email",variant:"outlined",label:"Email",name:"email",onChange:function(e){j(e.target.value)}})}),Object(l.jsx)(W.a,{item:!0,container:!0,justifyContent:"center",children:Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(se.a,{loading:x,fullWidth:!0,variant:"contained",size:"large",onClick:function(){f(!0),t.sendPasswordResetEmail(r).then((function(){b({type:"success",msg:"We just sent you an updated password reset link. If you don't see it in your inbox, remember to check your spam folder."}),f(!1)})).catch((function(e){if("auth/user-not-found"===e.code)return b({type:"error",msg:"User is not found"}),void f(!1);b(e.message),f(!1)}))},children:"Send Instruction"})})}),Object(l.jsx)(W.a,{item:!0,container:!0,justifyContent:"center",children:Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(m.a,{onClick:function(){a(!1)},children:"Back to login"})})})]})})}var le=function(e){var t=e.authService,a=e.setForgotPassword,c=e.setSignUp,i=Object(o.f)(),r=Object(n.useContext)(Ge),j=r.user,d=r.setUser,u=Object(n.useState)(""),b=Object(s.a)(u,2),O=b[0],h=b[1],x=Object(n.useState)(""),f=Object(s.a)(x,2),g=f[0],v=f[1],y=Object(n.useState)(!1),C=Object(s.a)(y,2),I=C[0],w=C[1],S=Object(n.useState)(),k=Object(s.a)(S,2),P=k[0],R=k[1];Object(n.useEffect)((function(){t.onAuthChange((function(e){e?(d(e),i("/menu")):d(void 0)}))}),[j,d,t,i]);var E=function(e){var t=e.target.name,a=e.target.value;switch(t){case"email":return void h(a);case"password":return void v(a);default:return}};return Object(l.jsx)(W.a,{container:!0,justifyContent:"center",children:Object(l.jsxs)(W.a,{container:!0,item:!0,direction:"column",justifyContent:"space-around",spacing:2,sx:{p:4,maxWidth:"400px"},children:[P&&Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(je.a,{severity:"error",children:P})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(p.a,{children:"Email"})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(oe.a,{error:"email"===I&&!0,helperText:"email"===I&&"Incorrect entry",autoFocus:!0,fullWidth:!0,type:"email",variant:"outlined",label:"Email",name:"email",onChange:E})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(p.a,{children:"Password"})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(oe.a,{error:"password"===I&&!0,helperText:"password"===I&&"Incorrect entry",fullWidth:!0,variant:"outlined",label:"Password",type:"password",name:"password",onChange:E})}),Object(l.jsxs)(W.a,{item:!0,container:!0,justifyContent:"space-around",children:[Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(m.a,{onClick:function(){a(!0)},children:"Forgot password?"})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(m.a,{onClick:function(){c(!0)},children:"Sign up"})})]}),Object(l.jsx)(W.a,{item:!0,container:!0,justifyContent:"center",children:Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(m.a,{fullWidth:!0,variant:"contained",size:"large",onClick:function(){t.signInWithEmailPassword(O,g).then().catch((function(e){"auth/user-not-found"===e.code?(w("email"),R("User is not found")):"auth/wrong-password"===e.code?(w("password"),R("Incorrect password")):"auth/too-many-requests"===e.code?(w("tooManyRequest"),R("Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later.")):console.log(e)}))},children:"Log in"})})})]})})};function ue(e){var t=e.authService,a=e.setSignUp,c=Object(n.useState)(),i=Object(s.a)(c,2),r=i[0],j=i[1],o=Object(n.useState)(),d=Object(s.a)(o,2),u=d[0],b=d[1],O=Object(n.useState)(),h=Object(s.a)(O,2),x=h[0],f=h[1],g=Object(n.useState)({type:"",msg:""}),v=Object(s.a)(g,2),y=v[0],C=v[1],I=Object(n.useState)(!1),w=Object(s.a)(I,2),S=w[0],k=w[1];function P(e){var t=e.target.name,a=e.target.value;switch(t){case"email":return void j(a);case"confirmEmail":return void b(a);case"password":return void f(a);default:return}}return Object(l.jsx)(W.a,{container:!0,justifyContent:"center",children:Object(l.jsxs)(W.a,{container:!0,item:!0,direction:"column",justifyContent:"space-around",spacing:2,sx:{p:4,maxWidth:"400px"},children:[Object(l.jsx)(W.a,{item:!0,container:!0,justifyContent:"center",children:Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(p.a,{variant:"h5",children:"Sign Up"})})}),y.type&&Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(je.a,{severity:y.type,children:y.msg})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(p.a,{children:"Enter your email"})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(oe.a,{autoFocus:!0,fullWidth:!0,type:"email",variant:"outlined",label:"Email",name:"email",onChange:P})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(p.a,{children:"Confirm your email"})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(oe.a,{error:"The email address you entered do not match"===y.msg&&!0,helperText:"The email address you entered do not match"===y.msg&&"Incorrect entry",autoFocus:!0,fullWidth:!0,type:"email",variant:"outlined",label:"Confirm Email",name:"confirmEmail",onChange:P})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(p.a,{children:"Create a password"})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(oe.a,{fullWidth:!0,variant:"outlined",label:"Password",type:"password",name:"password",onChange:P})}),Object(l.jsx)(W.a,{item:!0,container:!0,justifyContent:"center",children:Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(se.a,{loading:S,fullWidth:!0,variant:"contained",size:"large",onClick:function(){if(k(!0),r!==u)return C({type:"error",msg:"The email address you entered do not match"}),void k(!1);t.createUserWithEmailAndPassword(r,x).then((function(e){})).catch((function(e){"auth/email-already-in-use"===e.code?(C({type:"error",msg:"The email is already in use"}),k(!1)):(C({type:"error",msg:e.message}),k(!1))}))},children:"Sign Up"})})}),Object(l.jsx)(W.a,{item:!0,container:!0,justifyContent:"center",children:Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(m.a,{onClick:function(){a(!1)},children:"Back to login"})})})]})})}var be=function(e){var t=e.authService,a=Object(n.useState)(),c=Object(s.a)(a,2),i=c[0],r=c[1],j=Object(n.useState)(),o=Object(s.a)(j,2),d=o[0],u=o[1];return Object(l.jsxs)(ie.a,{open:!0,maxWidth:"xs",fullWidth:!0,children:[Object(l.jsx)(re.a,{sx:{textAlign:"center",fontSize:24,fontWeight:"bold"},children:Object(l.jsx)(m.a,{sx:{color:"black"},startIcon:Object(l.jsx)(b.a,{}),children:Object(l.jsx)(p.a,{children:"Pairable"})})}),i?Object(l.jsx)(de,{authService:t,setForgotPassword:r}):d?Object(l.jsx)(ue,{authService:t,setSignUp:u}):Object(l.jsx)(le,{authService:t,setForgotPassword:r,setSignUp:u})]})};var Oe=function(e){var t=e.menus,a=(e.logo,e.name),c=Object(n.useState)(!0),i=Object(s.a)(c,2),r=i[0],j=i[1];return Object(l.jsx)(d.a,{sx:{mt:4,mb:8},children:Object(l.jsxs)(W.a,{container:!0,alignItems:"center",direction:"column",spacing:4,children:[Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(p.a,{variant:"h5",children:a})}),Object(l.jsxs)(W.a,{item:!0,container:!0,justifyContent:"center",alignItems:"center",children:[Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(k.a,{})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(R.a,{checked:r,onChange:function(e){j(!r)}})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(P.a,{})})]}),Object(l.jsx)(W.a,{container:!0,item:!0,justifyContent:"center",xs:10,children:t?r?Object(l.jsx)(ee,{menus:t},Date.now()):Object(l.jsx)(ne,{menus:t}):Object(l.jsx)(W.a,{item:!0,children:"No Data Available"})})]})})},he=a(4),xe=a.n(he),me=a(6),pe=a(13),fe=a(263),ge=a(264),ve=a(295);function ye(e){var t=e.user,a=e.customerId,c=e.menuRepository,i=e.imageRepository,r=Object(n.useState)(),o=Object(s.a)(r,2),d=o[0],u=o[1],b=Object(n.useState)(),O=Object(s.a)(b,2),h=O[0],x=O[1],f=Object(n.useState)(),g=Object(s.a)(f,2),v=g[0],y=g[1],C=Object(n.useState)(),I=Object(s.a)(C,2),w=I[0],S=I[1],k=Object(n.useState)(!0),P=Object(s.a)(k,2),R=P[0],E=P[1];Object(n.useEffect)((function(){S(!0),c.getCustomerInfo(a,(function(e){if(e)return u(e),void S(!1);S(!1)}))}),[c,a]);var M=function(){var e=Object(me.a)(xe.a.mark((function e(){var t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!0),!h.logo){e.next=11;break}return e.next=4,i.logoImageUpload(a,h.logo);case 4:return t=e.sent,c.updateCustomerInfo(a,Object(pe.a)(Object(pe.a)({},h),{},{logo:t.url})),x(),S(!1),E(!0),window.location.reload(),e.abrupt("return");case 11:c.updateCustomerInfo(a,h),x(),S(!1),E(!0);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e){E(!1);var t=e.target.name,a=e.target.value;switch(t){case"businessName":var n=a.replace(/\s/g,"-").toLowerCase();return void x(Object(pe.a)(Object(pe.a)({},h),{},{name:a,publicUrl:n}));case"businessDesc":return void x(Object(pe.a)(Object(pe.a)({},h),{},{desc:a}));case"addressLine1":return void x(Object(pe.a)(Object(pe.a)({},h),{},{address:Object(pe.a)(Object(pe.a)({},h.address),{},{addressLine1:a})}));case"addressLine2":return void x(Object(pe.a)(Object(pe.a)({},h),{},{address:Object(pe.a)(Object(pe.a)({},h.address),{},{addressLine2:a})}));case"city":return void x(Object(pe.a)(Object(pe.a)({},h),{},{address:Object(pe.a)(Object(pe.a)({},h.address),{},{city:a})}));case"state":return void x(Object(pe.a)(Object(pe.a)({},h),{},{address:Object(pe.a)(Object(pe.a)({},h.address),{},{state:a})}));case"zipCode":return void x(Object(pe.a)(Object(pe.a)({},h),{},{address:Object(pe.a)(Object(pe.a)({},h.address),{},{zipCode:a})}));case"phone":return void x(Object(pe.a)(Object(pe.a)({},h),{},{phone:a}));case"logo":return void x(Object(pe.a)(Object(pe.a)({},h),{},{logo:a}));case"website":return void x(Object(pe.a)(Object(pe.a)({},h),{},{website:a}));default:return}};return Object(l.jsxs)(W.a,{container:!0,justifyContent:"center",children:[Object(l.jsx)(W.a,{item:!0,xs:10,sx:{textAlign:"center"},children:Object(l.jsx)(p.a,{variant:"h5",children:"Profile"})}),d?Object(l.jsxs)(W.a,{container:!0,item:!0,spacing:2,sx:{p:4,maxWidth:"800px"},children:[Object(l.jsx)(W.a,{item:!0,container:!0,xs:12,justifyContent:"center",children:Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(j.b,{to:"/menu/".concat(d.publicUrl),target:"_blank",children:"Public Menu URL"})})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{children:"Business Name"})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"Business Name",name:"businessName",onChange:A,defaultValue:d.name})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{children:"Business Description (Bio)"})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"Business Description (Bio)",name:"businessDesc",onChange:A,defaultValue:d.desc})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{children:"Location"})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"Address Line1",name:"addressLine1",onChange:A,defaultValue:d.address&&d.address.addressLine1})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"Address Line2",name:"addressLine2",onChange:A,defaultValue:d.address&&d.address.addressLine2})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"City",name:"city",onChange:A,defaultValue:d.address&&d.address.city})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"State",name:"state",onChange:A,defaultValue:d.address&&d.address.state})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"ZIP Code",name:"zipCode",onChange:A,defaultValue:d.address&&d.address.zipCode})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{children:"Phone"})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{disabled:w,fullWidth:!0,type:"tel",variant:"outlined",label:"Phone",name:"phone",onChange:A,defaultValue:d.phone})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{children:"Logo"})}),(v||d.logo)&&Object(l.jsx)(W.a,{container:!0,item:!0,xs:12,justifyContent:"center",alignItems:"center",children:Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)("img",{src:v||d.logo,alt:"",loading:"lazy",style:{width:"100%",height:"100%"}})})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsxs)("label",{htmlFor:"contained-button-file-logo",children:[Object(l.jsx)(ve.a,{sx:{display:"none"},type:"file",inputProps:{accept:"image/*"},id:"contained-button-file-logo",name:"img",onChange:function(e){var t=e.target.files[0];if(t){E(!0);var a=URL.createObjectURL(t);return y(a),x(Object(pe.a)(Object(pe.a)({},h),{},{logo:t})),void E(!1)}x(Object(pe.a)(Object(pe.a)({},h),{},{logo:""}))},disabled:w}),Object(l.jsx)(m.a,{variant:"contained",component:"span",startIcon:Object(l.jsx)(fe.a,{}),disabled:w,children:"Upload Logo"})]})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{children:"Business Hours"})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:"business hours settings"}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{children:"Website"})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{fullWidth:!0,type:"url",variant:"outlined",label:"Website",name:"website",onChange:A,disabled:w,defaultValue:d.website})}),t&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{children:"Email"})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{disabled:!0,fullWidth:!0,variant:"outlined",type:"email",label:"Email",name:"email",defaultValue:t.email})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(p.a,{children:"Password"})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{disabled:!0,fullWidth:!0,variant:"outlined",label:"Password",type:"password",name:"password"})})]}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(se.a,{disabled:R,loading:w,fullWidth:!0,variant:"contained",startIcon:Object(l.jsx)(ge.a,{}),onClick:M,children:"Save"})})]}):Object(l.jsxs)(W.a,{item:!0,sx:{p:4},children:["This page will be available after your first menu is created. please follow this link to create your first menu (",Object(l.jsx)(j.b,{to:"/editor",children:"Menu Editor"}),")"]})]})}var Ce=a(99);function Ie(e){var t=e.loading,a=e.text,c=e.authService,i=Object(o.f)(),r=Object(n.useContext)(Ge),s=r.user,j=r.setUser;return Object(n.useEffect)((function(){c.onAuthChange((function(e){j(e||void 0)}))}),[s,j,c,i]),Object(l.jsxs)(d.a,{sx:{display:"flex",width:"100vw",height:"500px",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(l.jsx)(d.a,{children:Object(l.jsx)(Ce.CircleLoader,{loading:t,css:{display:"block"},size:100})}),Object(l.jsx)(d.a,{children:Object(l.jsx)(p.a,{variant:"h5",children:a})})]})}var we=a(2),Se=a(266),ke=a(267),Pe=a(274),We=a(68),Re=a(299),Ee=a(300),Me=a(301);var Ae=function(e){var t=e.open,a=e.setOpen,c=e.addCategory,i=Object(n.useState)("New Category"),r=Object(s.a)(i,2),j=r[0],o=r[1],d=function(){a(!1),o("New Category")};return Object(l.jsx)(W.a,{container:!0,item:!0,spacing:2,alignItems:"center",children:Object(l.jsxs)(ie.a,{open:t,onClose:d,children:[Object(l.jsx)(re.a,{children:"Add New Category"}),Object(l.jsxs)(Re.a,{children:[Object(l.jsx)(Ee.a,{}),Object(l.jsx)(oe.a,{sx:{mt:1},required:!0,autoFocus:!0,label:"Category",name:"category",value:j,fullWidth:!0,onChange:function(e){var t=e.target.value;o(t)}})]}),Object(l.jsxs)(Me.a,{children:[Object(l.jsx)(m.a,{onClick:d,children:"Cancel"}),Object(l.jsx)(m.a,{onClick:function(){c(j),a(!1),o("")},startIcon:Object(l.jsx)(ge.a,{}),children:"Save"})]})]})})};var Be=function(e){var t=e.open,a=e.setOpen,c=e.category,i=e.editCategory,r=Object(n.useState)(c),j=Object(s.a)(r,2),o=j[0],d=j[1];Object(n.useEffect)((function(){d(c)}),[c]);var u=function(){d(c),a(!1)};return Object(l.jsx)(W.a,{container:!0,item:!0,spacing:2,alignItems:"center",children:Object(l.jsxs)(ie.a,{open:t,onClose:u,children:[Object(l.jsx)(re.a,{children:"Edit Category"}),Object(l.jsxs)(Re.a,{children:[Object(l.jsx)(Ee.a,{}),Object(l.jsx)(oe.a,{sx:{mt:1},required:!0,autoFocus:!0,label:"Category",name:"category",value:o,fullWidth:!0,onChange:function(e){var t=e.target.value;d(t)}})]}),Object(l.jsxs)(Me.a,{children:[Object(l.jsx)(m.a,{onClick:u,children:"Cancel"}),Object(l.jsx)(m.a,{onClick:function(){i(c,o),d(o),a(!1)},startIcon:Object(l.jsx)(ge.a,{}),children:"Save"})]})]})})};function Le(e){var t=e.open,a=e.setDeleteAlertOpen,n=e.deleteCategory;function c(){a(!1)}return Object(l.jsxs)(ie.a,{open:t,onClose:c,children:[Object(l.jsx)(re.a,{children:"Delete"}),Object(l.jsx)(Re.a,{children:Object(l.jsx)(Ee.a,{children:"Are you sure you want to delete this category and the menus in this category?"})}),Object(l.jsxs)(Me.a,{children:[Object(l.jsx)(m.a,{onClick:c,children:"Cancel"}),Object(l.jsx)(m.a,{variant:"contained",color:"error",startIcon:Object(l.jsx)(E.a,{}),onClick:function(){n(),a(!1)},children:"Delete"})]})]})}function Ue(e){var t=e.loading,a=e.text;return Object(l.jsxs)(d.a,{sx:{display:"flex",width:"100vw",height:"500px",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(l.jsx)(d.a,{children:Object(l.jsx)(Ce.CircleLoader,{loading:t,css:{display:"block"},size:100})}),Object(l.jsx)(d.a,{children:Object(l.jsx)(p.a,{variant:"h5",children:a})})]})}var De=a(23),Fe=a(265),Ne=a(302);function ze(e){var t=e.open,a=e.setOpen,c=e.category,i=e.customerId,r=e.imageRepository,j=e.addMenu,o=e.menus,d=Object(n.useState)({name:"",rate:"none",price:"",priceB:"",img:"",desc:"",pairs:[]}),u=Object(s.a)(d,2),b=u[0],O=u[1],h=Object(n.useState)(o),x=Object(s.a)(h,2),p=x[0],f=x[1],g=Object(n.useState)(!1),v=Object(s.a)(g,2),y=v[0],I=v[1],w=Object(n.useState)(),S=Object(s.a)(w,2),k=S[0],P=S[1];function R(e){var t=e.target.name;if("img"!==t){var a=e.target.value;O(Object(pe.a)(Object(pe.a)({},b),{},Object(we.a)({},t,a)))}else{var n=e.target.files[0];if(n){var c=URL.createObjectURL(n);P(n),O(Object(pe.a)(Object(pe.a)({},b),{},Object(we.a)({},t,c)))}P("")}}function E(){a(!1)}function M(){return(M=Object(me.a)(xe.a.mark((function e(){var t,n,s,o,d;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(!0),!k){e.next=15;break}return e.next=4,r.imageUpload(i,k,[b.menuId,c,b.name]);case 4:return t=e.sent,n=Date.now().toString(),O(Object(pe.a)(Object(pe.a)({},b),{},{img:t.url,menuId:n})),s=p.categories[c].menuOrder?Object(pe.a)(Object(pe.a)({},p),{},{categories:Object(pe.a)(Object(pe.a)({},p.categories),{},Object(we.a)({},c,Object(pe.a)(Object(pe.a)({},p.categories[c]),{},{menuOrder:[].concat(Object(De.a)(p.categories[c].menuOrder),[n])}))),items:Object(pe.a)(Object(pe.a)({},p.items),{},Object(we.a)({},n,Object(pe.a)(Object(pe.a)({},b),{},{menuId:n})))}):Object(pe.a)(Object(pe.a)({},p),{},{categories:Object(pe.a)(Object(pe.a)({},p.categories),{},Object(we.a)({},c,Object(pe.a)(Object(pe.a)({},p.categories[c]),{},{menuOrder:[n]}))),items:Object(pe.a)(Object(pe.a)({},p.items),{},Object(we.a)({},n,Object(pe.a)(Object(pe.a)({},b),{},{menuId:n})))}),f(s),j(s),O({name:"",rate:"none",price:"",priceB:"",desc:"",img:"",pairs:[]}),P(),I(!1),a(!1),e.abrupt("return");case 15:o=Date.now().toString(),O(Object(pe.a)(Object(pe.a)({},b),{},{menuId:o})),d=p.categories[c].menuOrder?Object(pe.a)(Object(pe.a)({},p),{},{categories:Object(pe.a)(Object(pe.a)({},p.categories),{},Object(we.a)({},c,Object(pe.a)(Object(pe.a)({},p.categories[c]),{},{menuOrder:[].concat(Object(De.a)(p.categories[c].menuOrder),[o])}))),items:Object(pe.a)(Object(pe.a)({},p.items),{},Object(we.a)({},o,Object(pe.a)(Object(pe.a)({},b),{},{menuId:o})))}):Object(pe.a)(Object(pe.a)({},p),{},{categories:Object(pe.a)(Object(pe.a)({},p.categories),{},Object(we.a)({},c,Object(pe.a)(Object(pe.a)({},p.categories[c]),{},{menuOrder:[o]}))),items:Object(pe.a)(Object(pe.a)({},p.items),{},Object(we.a)({},o,Object(pe.a)(Object(pe.a)({},b),{},{menuId:o})))}),f(d),j(d),O({name:"",rate:"none",price:"",priceB:"",desc:"",img:"",pairs:[]}),I(!1),a(!1);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){f(o)}),[o]),Object(l.jsxs)(ie.a,{open:t,onClose:E,children:[Object(l.jsx)(re.a,{children:"Add New Menu"}),Object(l.jsxs)(Re.a,{children:[Object(l.jsx)(Ee.a,{}),Object(l.jsxs)(W.a,{sx:{mt:1},container:!0,item:!0,spacing:2,children:[Object(l.jsx)(W.a,{item:!0,xs:5,children:Object(l.jsx)(oe.a,{required:!0,label:"Menu name",name:"name",value:b.name,onChange:R,fullWidth:!0,disabled:y})}),Object(l.jsx)(W.a,{item:!0,xs:3,children:Object(l.jsxs)(oe.a,{select:!0,label:"Rate",name:"rate",value:b.rate,defaultValue:"none",onChange:R,fullWidth:!0,disabled:y,children:[Object(l.jsx)(C.a,{value:"none",children:"None"},"None"),Object(l.jsx)(C.a,{value:"high",children:"High"},"High"),Object(l.jsx)(C.a,{value:"mid",children:"Mid"},"Mid"),Object(l.jsx)(C.a,{value:"low",children:"Low"},"Low")]})}),Object(l.jsx)(W.a,{item:!0,xs:2,children:Object(l.jsx)(oe.a,{type:"number",label:"Price",name:"price",value:b.price,onChange:R,disabled:y,fullWidth:!0,InputProps:{startAdornment:Object(l.jsx)(Ne.a,{position:"start",children:"$"})}})}),Object(l.jsx)(W.a,{item:!0,xs:2,children:Object(l.jsx)(oe.a,{type:"number",label:"Price(B)",name:"priceB",value:b.priceB,onChange:R,disabled:y,fullWidth:!0,InputProps:{startAdornment:Object(l.jsx)(Ne.a,{position:"start",children:"$"})}})}),b.img&&Object(l.jsx)(W.a,{container:!0,item:!0,xs:12,justifyContent:"center",alignItems:"center",children:Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)("img",{src:b.img,alt:"",loading:"lazy",style:{width:"100%",height:"100%"}})})}),Object(l.jsx)(W.a,{container:!0,item:!0,xs:12,justifyContent:"right",children:Object(l.jsx)(W.a,{item:!0,children:Object(l.jsxs)("label",{htmlFor:"contained-button-file-".concat(c),children:[Object(l.jsx)(ve.a,{sx:{display:"none"},type:"file",inputProps:{accept:"image/*"},id:"contained-button-file-".concat(c),name:"img",onChange:R,disabled:y}),Object(l.jsx)(m.a,{variant:"contained",component:"span",startIcon:Object(l.jsx)(Fe.a,{}),disabled:y,children:"Image Upload"})]})})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{label:"Description",name:"desc",value:b.desc,onChange:R,fullWidth:!0,multiline:!0,disabled:y})})]})]}),Object(l.jsxs)(Me.a,{children:[Object(l.jsx)(m.a,{onClick:E,disabled:y,children:"Cancel"}),Object(l.jsx)(se.a,{loading:y,onClick:function(){return M.apply(this,arguments)},startIcon:Object(l.jsx)(ge.a,{}),children:"Save"})]})]})}var Te=a(297),Ve=a(278),$e=a(273),He=a(284),Je=a(285),qe=a(303);var _e=function(e){var t=e.open,a=e.setOpen,c=e.category,i=e.menu,r=e.menus,j=e.menuItems,o=e.imageRepository,u=e.editMenu,b=e.customerId,O=Object(n.useState)(i),h=Object(s.a)(O,2),x=h[0],p=h[1],f=Object(n.useState)(!1),g=Object(s.a)(f,2),v=g[0],y=g[1],I=Object(n.useState)(i.img),w=Object(s.a)(I,2),S=w[0],k=w[1],P=Object(n.useState)(),R=Object(s.a)(P,2),M=R[0],A=R[1];function B(e){if("img"!==e.target.name)if("pairs"!==e.target.name){var t=e.target.name,a=e.target.value;p(Object(pe.a)(Object(pe.a)({},x),{},Object(we.a)({},t,a)))}else{var n=e.target.value;p(Object(pe.a)(Object(pe.a)({},x),{},{pairs:n}))}else{var c=e.target.files[0];if(c){var i=URL.createObjectURL(c);return k(i),void A(c)}}}function L(){return(L=Object(me.a)(xe.a.mark((function e(){var t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),!M){e.next=10;break}return e.next=4,o.imageUpload(b,M,[x.menuId,c,x.name]);case 4:return t=e.sent,p(Object(pe.a)(Object(pe.a)({},x),{},{img:t.url})),u(i,Object(pe.a)(Object(pe.a)({},x),{},{img:t.url})),a(!1),y(!1),e.abrupt("return");case 10:u(i,Object(pe.a)(Object(pe.a)({},x),{},{img:S})),a(!1),y(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){a(!1),p(i),k(i.img),A()}return Object(n.useEffect)((function(){p(i),k(i.img)}),[i]),Object(l.jsxs)(ie.a,{open:t,onClose:U,children:[Object(l.jsx)(re.a,{children:"Edit Menu"}),Object(l.jsxs)(Re.a,{children:[Object(l.jsx)(Ee.a,{}),Object(l.jsxs)(W.a,{sx:{mt:1},container:!0,item:!0,spacing:2,alignItems:"center",children:[Object(l.jsx)(W.a,{item:!0,xs:5,children:Object(l.jsx)(oe.a,{required:!0,autoFocus:!0,label:"Menu name",name:"name",value:x.name,fullWidth:!0,onChange:B,disabled:v})}),Object(l.jsx)(W.a,{item:!0,xs:3,children:Object(l.jsxs)(oe.a,{select:!0,label:"Rate",name:"rate",value:x.rate,fullWidth:!0,onChange:B,disabled:v,children:[Object(l.jsx)(C.a,{value:"none",children:"None"},"None"),Object(l.jsx)(C.a,{value:"high",children:"High"},"High"),Object(l.jsx)(C.a,{value:"mid",children:"Mid"},"Mid"),Object(l.jsx)(C.a,{value:"low",children:"Low"},"Low")]})}),Object(l.jsx)(W.a,{item:!0,xs:2,children:Object(l.jsx)(oe.a,{type:"number",label:"Price",name:"price",value:x.price,fullWidth:!0,InputProps:{startAdornment:Object(l.jsx)(Ne.a,{position:"start",children:"$"})},onChange:B,disabled:v})}),Object(l.jsx)(W.a,{item:!0,xs:2,children:Object(l.jsx)(oe.a,{type:"number",label:"Price(B)",name:"priceB",value:x.priceB,fullWidth:!0,InputProps:{startAdornment:Object(l.jsx)(Ne.a,{position:"start",children:"$"})},onChange:B,disabled:v})}),S&&Object(l.jsx)(W.a,{container:!0,item:!0,xs:12,justifyContent:"center",alignItems:"center",children:Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)("img",{src:S,alt:"",loading:"lazy",style:{width:"100%",height:"100%"}})})}),Object(l.jsxs)(W.a,{container:!0,item:!0,xs:12,spacing:2,justifyContent:"center",alignItems:"center",children:[Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(m.a,{variant:"contained",component:"span",startIcon:Object(l.jsx)(E.a,{}),onClick:function(){k(""),A(null)},disabled:v,children:"Delete Image"})}),Object(l.jsx)(W.a,{item:!0,children:Object(l.jsxs)("label",{htmlFor:"contained-button-file-".concat(x.menuId),children:[Object(l.jsx)(ve.a,{sx:{display:"none"},type:"file",inputProps:{accept:"image/*"},id:"contained-button-file-".concat(x.menuId),name:"img",onChange:B,disabled:v}),Object(l.jsx)(m.a,{variant:"contained",component:"span",startIcon:Object(l.jsx)(Fe.a,{}),disabled:v,children:"Upload"})]})})]}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsx)(oe.a,{label:"Description",name:"desc",value:x.desc,fullWidth:!0,multiline:!0,onChange:B,disabled:v})}),Object(l.jsx)(W.a,{item:!0,xs:12,children:Object(l.jsxs)(Te.a,{fullWidth:!0,children:[Object(l.jsx)(Ve.a,{id:"best-paired-with-".concat(x.menuId),children:"Best Paired With"}),Object(l.jsx)($e.a,{autoWidth:!0,labelId:"best-paired-with-".concat(x.menuId),multiple:!0,value:x.pairs?x.pairs:[],name:"pairs",onChange:B,disabled:v,input:Object(l.jsx)(He.a,{label:"Best Paired With"}),renderValue:function(e){return Object(l.jsx)(d.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object(l.jsx)(Je.a,{label:j[e].name,onClick:function(){}},e)}))})},MenuProps:{PaperProps:{style:{maxHeight:"400px",maxWidth:"400px",overflow:"auto"}}},children:r.categoryOrder.map((function(e){return[Object(l.jsx)(qe.a,{children:e}),r.categories[e].menuOrder.map((function(e){return Object(l.jsx)(C.a,{value:e,disabled:i.menuId.toString()===e,children:j[e].name},e)}))]}))})]})})]})]}),Object(l.jsxs)(Me.a,{children:[Object(l.jsx)(m.a,{onClick:U,disabled:v,children:"Cancel"}),Object(l.jsx)(se.a,{loading:v,onClick:function(){!function(){L.apply(this,arguments)}()},startIcon:Object(l.jsx)(ge.a,{}),children:"Save"})]})]})};function Ye(e){var t=e.customerId,a=e.menuRepository,c=e.imageRepository,i=Object(n.useState)(),r=Object(s.a)(i,2),j=r[0],o=r[1],u=Object(n.useState)(!0),b=Object(s.a)(u,2),O=b[0],h=b[1],x=Object(n.useState)(!1),m=Object(s.a)(x,2),f=m[0],v=m[1],y=Object(n.useState)(!1),C=Object(s.a)(y,2),I=C[0],w=C[1],S=Object(n.useState)(!1),k=Object(s.a)(S,2),P=k[0],R=k[1],E=Object(n.useState)(!1),M=Object(s.a)(E,2),A=M[0],B=M[1],L=Object(n.useState)(),U=Object(s.a)(L,2),D=U[0],F=U[1],N=Object(n.useState)(!1),z=Object(s.a)(N,2),T=z[0],V=z[1],$=Object(n.useState)(),H=Object(s.a)($,2),J=H[0],q=H[1],_=Object(n.useState)(),Y=Object(s.a)(_,2),G=Y[0],K=Y[1];function Q(e){v(!0),q(e.target.name)}function X(e){K(e),w(!0)}function ee(){B(!0)}function te(e){var n=JSON.parse(JSON.stringify(j));n.categoryOrder.forEach((function(t){var a;n.categories[t].menuOrder&&(a=n.categories[t].menuOrder.indexOf(e))>-1&&n.categories[t].menuOrder.splice(a,1)})),delete n.items[e],Object.keys(n.items).forEach((function(t){var a=n.items[t].pairs;if(a){var c=a.indexOf(e);if(!(c>-1))return;n.items[t].pairs.splice(c,1)}})),o(n),a.updateMenus(t,n)}function ae(e,t){return e.filter((function(e){return!t.includes(e)}))}return Object(n.useEffect)((function(){a.getCustomerInfo(t,(function(e){if(e)return o(e.menus),void h(!1);h(!1)}))}),[t,a]),Object(l.jsx)(We.a,{onDragEnd:function(e){var n=e.source,c=e.destination,i=e.draggableId,r=e.type;if(c){var s=n.droppableId,d=c.droppableId;if(s!==d||n.index!==c.index){if("category"===r){var l=Array.from(j.categoryOrder);l.splice(n.index,1),l.splice(c.index,0,i);var u=Object(pe.a)(Object(pe.a)({},j),{},{categoryOrder:l});return o(u),void a.updateMenus(t,u)}if(s===d){var b=j.categories[n.droppableId],O=Array.from(b.menuOrder);O.splice(n.index,1),O.splice(c.index,0,i);var h=Object(pe.a)(Object(pe.a)({},j),{},{categories:Object(pe.a)(Object(pe.a)({},j.categories),{},Object(we.a)({},n.droppableId,Object(pe.a)(Object(pe.a)({},j.categories[n.droppableId]),{},{menuOrder:O})))});return o(h),void a.updateMenus(t,h)}if(s!==d){var x,m,p=Array.from(j.categories[s].menuOrder);p.splice(n.index,1),(m=j.categories[d].menuOrder?Array.from(j.categories[d].menuOrder):[]).splice(c.index,0,i);var f=Object(pe.a)(Object(pe.a)({},j),{},{categories:Object(pe.a)(Object(pe.a)({},j.categories),{},(x={},Object(we.a)(x,s,Object(pe.a)(Object(pe.a)({},j.categories[s]),{},{menuOrder:p})),Object(we.a)(x,d,Object(pe.a)(Object(pe.a)({},j.categories[d]),{},{menuOrder:m})),x))});o(f),a.updateMenus(t,f)}}}},children:O?Object(l.jsx)(Ue,{loading:O,text:"Loading Editor..."}):Object(l.jsxs)(W.a,{container:!0,item:!0,justifyContent:"center",children:[Object(l.jsx)(W.a,{item:!0,children:Object(l.jsx)(p.a,{variant:"h5",children:"Menu Editor"})}),Object(l.jsxs)(W.a,{item:!0,xs:12,children:[Object(l.jsx)(d.a,{sx:{display:"flex",flexWrap:"wrap",width:"100%",p:2,boxSizing:"border-box",gap:2,justifyContent:"center"},children:Object(l.jsx)(We.c,{droppableId:"total",direction:"horizontal",type:"category",children:function(e){return Object(l.jsxs)(d.a,Object(pe.a)(Object(pe.a)({},e.droppableProps),{},{ref:e.innerRef,sx:{display:"flex",width:"100%",overflow:"auto",p:2,boxSizing:"border-box",gap:2,justifyContent:"flex-start"},children:[j&&j.categoryOrder&&j.categoryOrder.length>0?j.categoryOrder.map((function(e,t){return Object(l.jsx)(We.b,{draggableId:e,index:t,children:function(t){return Object(l.jsx)(d.a,Object(pe.a)(Object(pe.a)(Object(pe.a)({},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,sx:{mb:2},children:Object(l.jsx)(We.c,{droppableId:e,type:"menu",children:function(t){return Object(l.jsxs)(d.a,Object(pe.a)(Object(pe.a)({},t.droppableProps),{},{ref:t.innerRef,sx:{display:"flex",flexDirection:"column",width:"300px",height:"100%",backgroundColor:"#f5f5f5",borderRadius:1,gap:1,p:1,alignItems:"center"},children:[Object(l.jsxs)(d.a,{sx:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(l.jsx)(d.a,{sx:{ml:1},children:Object(l.jsx)(p.a,{children:e})}),Object(l.jsxs)(d.a,{children:[Object(l.jsx)(g.a,{name:e,onClick:function(){!function(e){R(!0),q(e)}(e)},children:Object(l.jsx)(Se.a,{})}),Object(l.jsx)(g.a,{name:e,onClick:function(){!function(e){V(!0),q(e)}(e)},children:Object(l.jsx)(ke.a,{})})]})]}),j.categories[e].menuOrder&&j.categories[e].menuOrder.map((function(e,t){return Object(l.jsx)(We.b,{draggableId:e.toString(),index:t,children:function(t){return Object(l.jsx)(d.a,Object(pe.a)(Object(pe.a)(Object(pe.a)({sx:{width:"100%"},ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:Object(l.jsx)(Z,{menu:j.items[e],menus:j.items,type:"edit",editMenu:X,deleteMenu:te})}))}},e)})),t.placeholder,Object(l.jsx)(se.a,{loading:O,fullWidth:!0,variant:"outlined",startIcon:Object(l.jsx)(fe.a,{}),name:e,onClick:Q,children:"Add Menu"})]}))}})}))}},e)})):null,e.placeholder,Object(l.jsx)(d.a,{children:Object(l.jsx)(se.a,{loading:O,fullWidth:!0,variant:"outlined",startIcon:Object(l.jsx)(fe.a,{}),onClick:ee,children:"Add Category"})})]}))}})}),J&&Object(l.jsx)(ze,{open:f,setOpen:v,category:J,customerId:t,imageRepository:c,addMenu:function(e){a.updateMenus(t,e),a.getCustomerInfo(t,(function(e){if(e)return o(e.menus),void h(!1);h(!1)}))},menus:j}),G&&Object(l.jsx)(_e,{open:I,setOpen:w,category:J,menu:j.items[G],menus:j,menuItems:j.items,imageRepository:c,editMenu:function(e,n){var c,i;e.pairs||n.pairs?(a.updateMenu(t,e.menuId,n),e.pairs?n.pairs?(i=ae(e.pairs,n.pairs),c=ae(n.pairs,e.pairs)):i=e.pairs:c=n.pairs,a.getCustomerInfo(t,(function(e){c&&c.length>0&&c.forEach((function(t){var a=e.menus.items[t].pairs;a?a.push(n.menuId):e.menus.items[t].pairs=[n.menuId]})),i&&i.length>0&&i.forEach((function(t){var a=e.menus.items[t].pairs;if(a){var c=a.indexOf(n.menuId);c>-1&&e.menus.items[t].pairs.splice(c,1)}})),a.updateMenus(t,e.menus),o(e.menus),K()}))):(a.updateMenu(t,e.menuId,n),a.getCustomerInfo(t,(function(e){o(e.menus)})),K())},customerId:t}),J&&Object(l.jsx)(Be,{open:P,setOpen:R,category:J,editCategory:function(e,n){var c=JSON.parse(JSON.stringify(j));if(n in c.categories)F(!0);else{var i=c.categories[e];delete c.categories[e],c.categories[n]=i;var r=c.categoryOrder.indexOf(e);r>-1&&(c.categoryOrder.splice(r,1),c.categoryOrder.splice(r,0,n)),a.updateMenus(t,c),o(c)}}}),Object(l.jsx)(Le,{open:T,setDeleteAlertOpen:V,deleteCategory:function(){var e=JSON.parse(JSON.stringify(j));e.categories[J].menuOrder&&e.categories[J].menuOrder.forEach((function(t){delete e.items[t],Object.keys(e.items).forEach((function(a){var n=e.items[a].pairs;if(n){var c=n.indexOf(t);if(!(c>-1))return;e.items[a].pairs.splice(c,1)}}))})),delete e.categories[J];var n=e.categoryOrder.indexOf(J);n>-1&&e.categoryOrder.splice(n,1),a.updateMenus(t,e),o(e)}}),Object(l.jsx)(Ae,{open:A,setOpen:B,addCategory:function(e){var n;if(j){if(n=JSON.parse(JSON.stringify(j)),e in j.categories)return void F(!0)}else n={};if(!n.categories&&!n.categoryOrder)return n.categories=Object(we.a)({},e,{type:"category",menuOrder:[]}),n.categoryOrder=[],n.categoryOrder.push(e),a.updateMenus(t,n),void o(n);n.categories[e]={type:"category"},n.categoryOrder.push(e),a.updateMenus(t,n),o(n)}}),Object(l.jsx)(Pe.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:D,autoHideDuration:3e3,onClose:function(){F(!1)},children:Object(l.jsx)(je.a,{severity:"error",children:"Category Name already Exists"})})]})]})})}var Ze=function(e){var t=e.authService,a=e.menuRepository,c=e.imageRepository,i=Object(n.useContext)(Ge).user,r=Object(n.useState)(),d=Object(s.a)(r,2),u=d[0],b=d[1],O=Object(n.useState)(),h=Object(s.a)(O,2),x=h[0],m=h[1];return Object(n.useEffect)((function(){a.getDatabase((function(e){var t=Object.keys(e);b(t),m(e)}))}),[a,i]),Object(l.jsx)(j.a,{children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{path:"/",element:Object(l.jsx)(be,{authService:t})}),Object(l.jsx)(o.a,{path:"/signup",element:Object(l.jsx)(be,{authService:t})}),Object(l.jsx)(o.a,{path:"/login",element:Object(l.jsx)(be,{authService:t})}),i&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(o.a,{path:"/editor",element:Object(l.jsx)(S,{customerId:i.uid,menuRepository:a,authService:t,component:Object(l.jsx)(Ye,{customerId:i.uid,menuRepository:a,imageRepository:c})})}),Object(l.jsx)(o.a,{path:"/menu",element:Object(l.jsx)(S,{customerId:i.uid,menuRepository:a,authService:t,component:Object(l.jsx)(ce,{user:i,customerId:i.uid,menuRepository:a})})}),Object(l.jsx)(o.a,{path:"/profile",element:Object(l.jsx)(S,{customerId:i.uid,menuRepository:a,authService:t,component:Object(l.jsx)(ye,{user:i,customerId:i.uid,menuRepository:a,imageRepository:c})})})]}),u&&x&&u.map((function(e){return Object(l.jsx)(o.a,{path:"/menu/".concat(x[e].publicUrl),element:Object(l.jsx)(Oe,{menus:x[e].menus,logo:x[e].logo&&x[e].logo,name:x[e].name})},e)})),Object(l.jsx)(o.a,{path:"*",element:Object(l.jsx)(Ie,{loading:!0,text:"Loading...",authService:t})})]})})},Ge=c.a.createContext();function Ke(e){var t=e.authService,a=e.menuRepository,c=e.imageRepository,i=Object(n.useState)(),r=Object(s.a)(i,2),j=r[0],o=r[1];return Object(l.jsx)(Ge.Provider,{value:{user:j,setUser:o},children:Object(l.jsx)(Ze,{authService:t,menuRepository:a,imageRepository:c})})}var Qe=a(7),Xe=a(9),et=function(){function e(t){Object(Qe.a)(this,e),this.authProvider=t}return Object(Xe.a)(e,[{key:"googleSignInWithRedirect",value:function(){this.authProvider.logInWithRedirect()}},{key:"signInWithEmailPassword",value:function(e,t){return this.authProvider.signInWithEmailAndPassword(e,t)}},{key:"createUserWithEmailAndPassword",value:function(e,t){return this.authProvider.createUserWithEmailAndPassword(e,t)}},{key:"sendPasswordResetEmail",value:function(e){return this.authProvider.sendPasswordResetEmail(e)}},{key:"logout",value:function(){return this.authProvider.signOut()}},{key:"getRedirectResult",value:function(){return this.authProvider.getRedirectResult()}},{key:"onAuthChange",value:function(e){this.authProvider.onAuthStateChanged(e)}}]),e}(),tt=a(33),at=function(){function e(t){Object(Qe.a)(this,e),this.database=Object(tt.c)(t)}return Object(Xe.a)(e,[{key:"addMenu",value:function(e,t,a){Object(tt.g)(Object(tt.e)(this.database,e+"/menus/"+a),t)}},{key:"updateMenu",value:function(e,t,a){Object(tt.h)(Object(tt.e)(this.database,e+"/menus/items/"+t),a)}},{key:"deleteMenu",value:function(e,t){Object(tt.f)(Object(tt.e)(this.database,e+"/menus/"+t))}},{key:"updateMenus",value:function(e,t){Object(tt.h)(Object(tt.e)(this.database,e+"/menus/"),t)}},{key:"updateLayout",value:function(e,t){Object(tt.h)(Object(tt.e)(this.database,e),t)}},{key:"getCustomerInfo",value:function(e,t){var a=Object(tt.e)(this.database);Object(tt.b)(Object(tt.a)(a,e)).then((function(e){e.exists()?t(e.val()):t(null)})).catch((function(e){console.error(e)}))}},{key:"updateCategory",value:function(e,t){Object(tt.h)(Object(tt.e)(this.database,e+"/menus/"),t)}},{key:"getDatabase",value:function(e){var t=Object(tt.e)(this.database);Object(tt.b)(t).then((function(t){if(t.exists()){var a=t.val();e(a)}else e(null)}))}},{key:"onDatabaseChange",value:function(e){var t=Object(tt.e)(this.database);Object(tt.d)(t,(function(t){var a=t.val();e(a)}))}},{key:"updateCustomerInfo",value:function(e,t){Object(tt.h)(Object(tt.e)(this.database,e),t)}}]),e}(),nt=function(){function e(){Object(Qe.a)(this,e)}return Object(Xe.a)(e,[{key:"imageUpload",value:function(){var e=Object(me.a)(xe.a.mark((function e(t,a,n){var c,i;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("file",a),c.append("upload_preset","wgjkx4in"),c.append("folder","Menu Creator/".concat(t,"/Menu Photos")),c.append("tags",n),e.next=7,fetch("https://api.cloudinary.com/v1_1/db7ss52zt/image/upload",{method:"POST",body:c});case 7:return i=e.sent,e.next=10,i.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"logoImageUpload",value:function(){var e=Object(me.a)(xe.a.mark((function e(t,a){var n,c;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",a),n.append("upload_preset","wgjkx4in"),n.append("folder","Menu Creator/".concat(t,"/Logo")),e.next=6,fetch("https://api.cloudinary.com/v1_1/db7ss52zt/image/upload",{method:"POST",body:n});case 6:return c=e.sent,e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),ct=a(129),it=a(42),rt=new function e(){var t=this;Object(Qe.a)(this,e),this.initializeFirebaseApp=function(){return Object(ct.a)(t.firebaseConfig)},this.signInWithRedirect=function(){var e=Object(it.c)(),t=new it.a;Object(it.h)(e,t)},this.signInWithEmailAndPassword=function(e,t){var a=Object(it.c)();return Object(it.g)(a,e,t)},this.createUserWithEmailAndPassword=function(e,t){var a=Object(it.c)();return Object(it.b)(a,e,t)},this.sendPasswordResetEmail=function(e){var t=Object(it.c)();return Object(it.f)(t,e)},this.signOut=function(){var e=Object(it.c)();return Object(it.i)(e)},this.getRedirectResult=function(){var e=Object(it.c)();return Object(it.d)(e)},this.onAuthStateChanged=function(e){var t=Object(it.c)();Object(it.e)(t,(function(t){e(t)}))},this.firebaseConfig={apiKey:"AIzaSyCt2mIHFWq3tlxp2gWtiVt6x9GIpLPtZnw",authDomain:"menu-creator-35f21.firebaseapp.com",projectId:"menu-creator-35f21",storageBucket:"menu-creator-35f21.appspot.com",appId:"1:312681521941:web:71aefc928cdc87ba237f1c"}},st=rt.initializeFirebaseApp(),jt=new et(rt),ot=new at(st),dt=new nt;r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(Ke,{authService:jt,menuRepository:ot,imageRepository:dt})}),document.getElementById("root"))}},[[193,1,2]]]);
//# sourceMappingURL=main.c1c6e97c.chunk.js.map