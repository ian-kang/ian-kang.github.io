(this["webpackJsonpqr-code-menu"]=this["webpackJsonpqr-code-menu"]||[]).push([[0],{156:function(e,t,n){},193:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(67),s=n.n(i),r=(n(156),n(12)),j=n(60),o=n(23),l=n(237),d=n(0);function u(){return Object(d.jsx)("div",{})}var b=n(238),O=n(243),x=n(244),h=n(245),m=n(275),p=n(89),f=n(265),g=n(281),v=n(276),y=n(129),C=n(284);function I(e){var t=e.path,n=e.text,a=e.startIcon;return Object(d.jsx)(m.a,{startIcon:a,children:Object(d.jsx)(j.b,{to:t,style:{textDecoration:"none",color:"black"},children:n})})}var w=function(e){var t=e.customerId,n=e.authService,c=e.menuRepository,i=Object(o.f)(),s=Object(a.useContext)(Te).user,j=Object(a.useState)(null),u=Object(r.a)(j,2),w=u[0],S=u[1],W=Object(a.useState)({}),k=Object(r.a)(W,2),M=k[0],R=k[1];return Object(a.useEffect)((function(){c.getMenus(t,(function(e){e&&R(e)}))}),[t,c]),Object(d.jsxs)("div",{children:[Object(d.jsxs)(l.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"50px",m:2,ml:3,flexWrap:"wrap"},children:[Object(d.jsx)(l.a,{children:Object(d.jsx)(m.a,{sx:{color:"black"},startIcon:Object(d.jsx)(b.a,{}),children:Object(d.jsx)(p.a,{children:"Pairable"})})}),s&&s?Object(d.jsxs)(l.a,{children:[Object(d.jsx)(f.a,{title:"Open Setting",children:Object(d.jsx)(g.a,{onClick:function(e){S(e.currentTarget)},children:Object(d.jsx)(v.a,{variant:"rounded",src:M&&M.logo})})}),Object(d.jsxs)(y.a,{anchorEl:w,open:Boolean(w),onClose:function(){S(null)},children:[Object(d.jsxs)(C.a,{onClick:function(){i("/profile"),S(null)},children:[Object(d.jsx)(g.a,{children:Object(d.jsx)(O.a,{})}),Object(d.jsx)(p.a,{children:"Profile"})]}),Object(d.jsxs)(C.a,{onClick:function(){i("/editor"),S(null)},children:[Object(d.jsx)(g.a,{children:Object(d.jsx)(x.a,{})}),Object(d.jsx)(p.a,{children:"Menu Editor"})]}),Object(d.jsxs)(C.a,{onClick:function(){i("/menu"),S(null)},children:[Object(d.jsx)(g.a,{children:Object(d.jsx)(b.a,{})}),Object(d.jsx)(p.a,{children:"Your Menu"})]}),Object(d.jsxs)(C.a,{onClick:function(){n.logout().then((function(){i("/login")})).catch((function(e){console.log(e)}))},children:[Object(d.jsx)(g.a,{children:Object(d.jsx)(h.a,{})}),Object(d.jsx)(p.a,{children:"Sign Out"})]})]})]}):Object(d.jsx)(l.a,{children:Object(d.jsx)(I,{path:"/login",text:"Sign In"})})]}),Object(d.jsx)("hr",{})]})};var S=function(e){var t=e.customerId,n=e.menuRepository,a=e.authService,c=e.component;return Object(d.jsxs)(l.a,{children:[Object(d.jsx)(l.a,{sx:{mb:4},children:Object(d.jsx)(w,{customerId:t,authService:a,menuRepository:n})}),Object(d.jsx)(l.a,{children:c}),Object(d.jsx)(l.a,{sx:{mb:8},children:Object(d.jsx)(u,{})})]})},W=n(19),k=n(278),M=n(248),R=n(246),P=n(271);var A=function(e){var t=e.customerId,n=e.addCategory,c=Object(a.useState)("New Category"),i=Object(r.a)(c,2),s=i[0],j=i[1];return Object(d.jsxs)(k.a,{container:!0,item:!0,xs:12,spacing:2,alignItems:"center",children:[Object(d.jsx)(R.a,{}),Object(d.jsx)(k.a,{item:!0,xs:9,children:Object(d.jsx)(P.a,{required:!0,label:"New category",name:"category",value:s,onChange:function(e){var t=e.target.value;j(t)},fullWidth:!0})}),Object(d.jsx)(k.a,{item:!0,xs:3,children:Object(d.jsx)(m.a,{fullWidth:!0,variant:"contained",startIcon:Object(d.jsx)(M.a,{}),onClick:function(){n(t,s),j("")},children:"Add"})})]})},L=n(97);function B(e){var t=e.loading,n=e.text;return Object(d.jsxs)(l.a,{sx:{display:"flex",width:"100vw",height:"500px",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(d.jsx)(l.a,{children:Object(d.jsx)(L.CircleLoader,{loading:t,css:{display:"block"},size:100})}),Object(d.jsx)(l.a,{children:Object(d.jsx)(p.a,{variant:"h5",children:n})})]})}var E=n(22),D=n(288),U=n(249),F=n(289),N=n(290),z=n(291),q=n(250);var V=function(e){var t=e.customerId,n=e.category,c=e.editCategory,i=Object(a.useState)(!1),s=Object(r.a)(i,2),j=s[0],o=s[1],l=Object(a.useState)(n),u=Object(r.a)(l,2),b=u[0],O=u[1],h=function(){O(n),o(!1)};return Object(d.jsxs)(k.a,{container:!0,item:!0,spacing:2,alignItems:"center",children:[Object(d.jsx)(k.a,{item:!0,xs:9,children:Object(d.jsx)(P.a,{disabled:!0,required:!0,label:"Category",name:"category",value:n,fullWidth:!0})}),Object(d.jsx)(k.a,{item:!0,xs:3,children:Object(d.jsx)(m.a,{fullWidth:!0,variant:"contained",startIcon:Object(d.jsx)(x.a,{}),onClick:function(){o(!0)},children:"Edit"})}),Object(d.jsxs)(D.a,{open:j,onClose:h,children:[Object(d.jsx)(U.a,{children:"Edit"}),Object(d.jsxs)(F.a,{children:[Object(d.jsx)(N.a,{}),Object(d.jsx)(P.a,{sx:{mt:1},required:!0,autoFocus:!0,label:"Category",name:"category",value:b,fullWidth:!0,onChange:function(e){var t=e.target.value;O(t)}})]}),Object(d.jsxs)(z.a,{children:[Object(d.jsx)(m.a,{onClick:h,children:"Cancel"}),Object(d.jsx)(m.a,{onClick:function(){c(t,n,b),O(b),o(!1)},startIcon:Object(d.jsx)(q.a,{}),children:"Save"})]})]})]})},$=n(251),H=n(292);var T=function(e){var t=e.menu,n=e.menus,a=e.handleEdit,c=e.handleDelete;return Object(d.jsxs)(k.a,{container:!0,spacing:2,children:[Object(d.jsx)(k.a,{item:!0,xs:5,children:Object(d.jsx)(P.a,{disabled:!0,required:!0,label:"Menu name",name:"name",value:t.name,fullWidth:!0})}),Object(d.jsx)(k.a,{item:!0,xs:3,children:Object(d.jsxs)(P.a,{disabled:!0,select:!0,label:"Rate",name:"rate",value:t.rate,fullWidth:!0,children:[Object(d.jsx)(C.a,{value:"none",children:"None"},"None"),Object(d.jsx)(C.a,{value:"high",children:"High"},"High"),Object(d.jsx)(C.a,{value:"mid",children:"Mid"},"Mid"),Object(d.jsx)(C.a,{value:"low",children:"Low"},"Low")]})}),Object(d.jsx)(k.a,{item:!0,xs:2,children:Object(d.jsx)(P.a,{disabled:!0,type:"number",label:"Price",name:"price",value:t.price,fullWidth:!0,InputProps:{startAdornment:Object(d.jsx)(H.a,{position:"start",children:"$"})}})}),Object(d.jsx)(k.a,{item:!0,xs:2,children:Object(d.jsx)(P.a,{disabled:!0,type:"number",label:"Price(B)",name:"priceB",value:t.priceB,fullWidth:!0,InputProps:{startAdornment:Object(d.jsx)(H.a,{position:"start",children:"$"})}})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{disabled:!0,label:"Description",name:"desc",value:t.desc,fullWidth:!0,multiline:!0})}),t.pairs&&Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{disabled:!0,label:"Best Paired With",name:"pairs",value:t.pairs.map((function(e){return n[e].name})),fullWidth:!0,multiline:!0})}),Object(d.jsxs)(k.a,{container:!0,item:!0,xs:12,spacing:2,children:[Object(d.jsx)(k.a,{item:!0,xs:6,children:Object(d.jsx)(m.a,{fullWidth:!0,variant:"contained",startIcon:Object(d.jsx)(x.a,{}),onClick:a,children:"Edit"})}),Object(d.jsx)(k.a,{item:!0,xs:6,children:Object(d.jsx)(m.a,{fullWidth:!0,variant:"contained",startIcon:Object(d.jsx)($.a,{}),onClick:c,children:"Delete"})})]})]})},_=n(4),Y=n.n(_),J=n(6),Z=n(2),G=n(252),K=n(285),Q=n(287),X=n(272),ee=n(270),te=n(279),ne=n(280),ae=n(266);var ce=function(e){var t=e.open,n=e.setOpen,c=e.menu,i=e.menus,s=e.menusArray,j=e.imageRepository,o=e.updateMenu,u=e.customerId,b=Object(a.useState)(c),O=Object(r.a)(b,2),x=O[0],h=O[1],p=Object(a.useState)(c.img),f=Object(r.a)(p,2),g=f[0],v=f[1],y=Object(a.useState)(),I=Object(r.a)(y,2),w=I[0],S=I[1],M=Object(a.useState)(),R=Object(r.a)(M,2),A=R[0],L=R[1],B=Object(a.useState)(i),E=Object(r.a)(B,2),V=E[0],T=E[1];Object(a.useEffect)((function(){T(i),h(c)}),[i,c]);var _=function(e){if("img"===e.target.name){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);return v(n),void S(t)}}else if("pairs"===e.target.name){var a=e.target.value,c="string"===typeof a?a.split(","):a;return void h(Object(W.a)(Object(W.a)({},x),{},{pairs:c}))}var i=e.target.name,s=e.target.value;h(Object(W.a)(Object(W.a)({},x),{},Object(Z.a)({},i,s)))},ce=function(){n(!1),h(c),v(c.img),S()},ie=function(){var e=Object(J.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=10;break}return L(!0),e.next=4,j.imageUpload(u,w,[x.menuId,x.category,x.name]);case 4:return t=e.sent,o(u,c.menuId,Object(W.a)(Object(W.a)({},x),{},{img:t.url})),h(c),n(!1),L(!1),e.abrupt("return");case 10:L(!0),o(u,c.menuId,Object(W.a)(Object(W.a)({},x),{},{img:g})),h(x),n(!1),L(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(D.a,{open:t,onClose:ce,children:[Object(d.jsx)(U.a,{children:"Edit"}),Object(d.jsxs)(F.a,{children:[Object(d.jsx)(N.a,{}),Object(d.jsxs)(k.a,{sx:{mt:1},container:!0,item:!0,spacing:2,alignItems:"center",children:[Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{required:!0,autoFocus:!0,label:"Category",name:"category",value:x.category,fullWidth:!0,onChange:_,disabled:A})}),Object(d.jsx)(k.a,{item:!0,xs:5,children:Object(d.jsx)(P.a,{required:!0,autoFocus:!0,label:"Menu name",name:"name",value:x.name,fullWidth:!0,onChange:_,disabled:A})}),Object(d.jsx)(k.a,{item:!0,xs:3,children:Object(d.jsxs)(P.a,{select:!0,label:"Rate",name:"rate",value:x.rate,fullWidth:!0,onChange:_,disabled:A,children:[Object(d.jsx)(C.a,{value:"none",children:"None"},"None"),Object(d.jsx)(C.a,{value:"high",children:"High"},"High"),Object(d.jsx)(C.a,{value:"mid",children:"Mid"},"Mid"),Object(d.jsx)(C.a,{value:"low",children:"Low"},"Low")]})}),Object(d.jsx)(k.a,{item:!0,xs:2,children:Object(d.jsx)(P.a,{type:"number",label:"Price",name:"price",value:x.price,fullWidth:!0,InputProps:{startAdornment:Object(d.jsx)(H.a,{position:"start",children:"$"})},onChange:_,disabled:A})}),Object(d.jsx)(k.a,{item:!0,xs:2,children:Object(d.jsx)(P.a,{type:"number",label:"Price(B)",name:"priceB",value:x.priceB,fullWidth:!0,InputProps:{startAdornment:Object(d.jsx)(H.a,{position:"start",children:"$"})},onChange:_,disabled:A})}),g&&Object(d.jsx)(k.a,{container:!0,item:!0,xs:12,justifyContent:"center",alignItems:"center",children:Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)("img",{src:g,alt:"",loading:"lazy",style:{width:"100%",height:"100%"}})})}),Object(d.jsxs)(k.a,{container:!0,item:!0,xs:12,spacing:2,justifyContent:"center",alignItems:"center",children:[Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(m.a,{variant:"contained",component:"span",startIcon:Object(d.jsx)($.a,{}),onClick:function(){v(""),S(null)},disabled:A,children:"Delete Image"})}),Object(d.jsx)(k.a,{item:!0,children:Object(d.jsxs)("label",{htmlFor:"contained-button-file-".concat(x.menuId),children:[Object(d.jsx)(K.a,{sx:{display:"none"},type:"file",inputProps:{accept:"image/*"},id:"contained-button-file-".concat(x.menuId),name:"img",onChange:_,disabled:A}),Object(d.jsx)(m.a,{variant:"contained",component:"span",startIcon:Object(d.jsx)(G.a,{}),disabled:A,children:"Upload"})]})})]}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{label:"Description",name:"desc",value:x.desc,fullWidth:!0,multiline:!0,onChange:_,disabled:A})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsxs)(Q.a,{fullWidth:!0,children:[Object(d.jsx)(X.a,{id:"best-paired-with-".concat(x.menuId),children:"Best Paired With"}),Object(d.jsx)(ee.a,{autoWidth:!0,labelId:"best-paired-with-".concat(x.menuId),multiple:!0,value:x.pairs?x.pairs:[],name:"pairs",onChange:_,disabled:A,input:Object(d.jsx)(te.a,{label:"Best Paired With"}),renderValue:function(e){return Object(d.jsx)(l.a,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((function(e){return Object(d.jsx)(ne.a,{label:V[e].name,onClick:function(){}},e)}))})},MenuProps:{PaperProps:{style:{maxHeight:"400px"}}},children:s.map((function(e){return Object(d.jsx)(C.a,{value:e.menuId,children:e.name},e.menuId)}))})]})})]})]}),Object(d.jsxs)(z.a,{children:[Object(d.jsx)(m.a,{onClick:ce,disabled:A,children:"Cancel"}),Object(d.jsx)(ae.a,{loading:A,onClick:ie,startIcon:Object(d.jsx)(q.a,{}),children:"Save"})]})]})};var ie=function(e){var t=e.imageRepository,n=e.customerId,c=e.menu,i=e.menus,s=e.menusArray,j=e.updateMenu,o=e.deleteMenu,l=Object(a.useState)(!1),u=Object(r.a)(l,2),b=u[0],O=u[1];return Object(d.jsxs)(k.a,{container:!0,item:!0,spacing:2,children:[Object(d.jsx)(T,{menu:c,menus:i,handleEdit:function(e){O(!0)},handleDelete:function(e){o(n,i,c.menuId)}}),Object(d.jsx)(ce,{open:b,setOpen:O,menu:c,menus:i,menusArray:s,imageRepository:t,updateMenu:j,customerId:n})]})};var se=function(e){var t=e.imageRepository,n=e.customerId,c=e.category,i=e.addMenu,s=Object(a.useState)({menuId:Date.now(),category:c,name:"",rate:"none",price:"",desc:"",img:"",pairs:[]}),j=Object(r.a)(s,2),o=j[0],l=j[1],u=Object(a.useState)(),b=Object(r.a)(u,2),O=b[0],x=b[1],h=Object(a.useState)(!1),p=Object(r.a)(h,2),f=p[0],g=p[1],v=function(e){var t=e.target.name;if("img"===t){var n=e.target.files[0];if(n){var a=URL.createObjectURL(n);return x(n),void l(Object(W.a)(Object(W.a)({},o),{},Object(Z.a)({category:c},t,a)))}x("")}var i=e.target.value;l(Object(W.a)(Object(W.a)({},o),{},Object(Z.a)({category:c},t,i)))},y=function(){var e=Object(J.a)(Y.a.mark((function e(){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=10;break}return g(!0),e.next=4,t.imageUpload(n,O,[o.menuId,o.category,o.name]);case 4:return a=e.sent,i(n,Object(W.a)(Object(W.a)({},o),{},{img:a.url}),o.menuId),l({menuId:Date.now(),category:c,name:"",rate:"none",price:"",priceB:"",desc:"",img:"",pairs:[]}),x(),g(!1),e.abrupt("return");case 10:g(!0),i(n,o,o.menuId),l({menuId:Date.now(),category:c,name:"",rate:"none",price:"",priceB:"",desc:"",img:"",pairs:[]}),g(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{children:Object(d.jsxs)(k.a,{container:!0,item:!0,spacing:2,children:[Object(d.jsx)(k.a,{item:!0,xs:5,children:Object(d.jsx)(P.a,{required:!0,label:"Menu name",name:"name",value:o.name,onChange:v,fullWidth:!0,disabled:f})}),Object(d.jsx)(k.a,{item:!0,xs:3,children:Object(d.jsxs)(P.a,{select:!0,label:"Rate",name:"rate",value:o.rate,onChange:v,fullWidth:!0,disabled:f,children:[Object(d.jsx)(C.a,{value:"none",children:"None"},"None"),Object(d.jsx)(C.a,{value:"high",children:"High"},"High"),Object(d.jsx)(C.a,{value:"mid",children:"Mid"},"Mid"),Object(d.jsx)(C.a,{value:"low",children:"Low"},"Low")]})}),Object(d.jsx)(k.a,{item:!0,xs:2,children:Object(d.jsx)(P.a,{type:"number",label:"Price",name:"price",value:o.price,onChange:v,disabled:f,fullWidth:!0,InputProps:{startAdornment:Object(d.jsx)(H.a,{position:"start",children:"$"})}})}),Object(d.jsx)(k.a,{item:!0,xs:2,children:Object(d.jsx)(P.a,{type:"number",label:"Price(B)",name:"priceB",value:o.priceB,onChange:v,disabled:f,fullWidth:!0,InputProps:{startAdornment:Object(d.jsx)(H.a,{position:"start",children:"$"})}})}),o.img&&Object(d.jsx)(k.a,{container:!0,item:!0,xs:12,justifyContent:"center",alignItems:"center",children:Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)("img",{src:o.img,alt:"",loading:"lazy",style:{width:"100%",height:"100%"}})})}),Object(d.jsx)(k.a,{container:!0,item:!0,xs:12,justifyContent:"right",children:Object(d.jsx)(k.a,{item:!0,children:Object(d.jsxs)("label",{htmlFor:"contained-button-file-".concat(c),children:[Object(d.jsx)(K.a,{sx:{display:"none"},type:"file",inputProps:{accept:"image/*"},id:"contained-button-file-".concat(c),name:"img",onChange:v,disabled:f}),Object(d.jsx)(m.a,{variant:"contained",component:"span",startIcon:Object(d.jsx)(G.a,{}),disabled:f,children:"Image Upload"})]})})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{label:"Description",name:"desc",value:o.desc,onChange:v,fullWidth:!0,multiline:!0,disabled:f})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(ae.a,{loading:f,fullWidth:!0,variant:"outlined",startIcon:Object(d.jsx)(M.a,{}),onClick:y,children:"Add"})})]})})},re=n(259),je=n(260),oe=n(261),le=n(293),de=n(294),ue=n(295),be=n(296),Oe=n(258),xe=n(273),he=n(253),me=n(297),pe=n(254),fe=n(255),ge=n(256),ve=n(283),ye=n(257);var Ce=function(e){var t=e.menu;return Object(d.jsx)(ve.a,{sx:{pl:4},dense:!0,children:Object(d.jsxs)(xe.a,{secondaryAction:Object(d.jsxs)(p.a,{variant:"subtitle2",children:["$",t.price,t.priceB&&" / ".concat(t.priceB)]}),children:["high"===t.rate?Object(d.jsx)(he.a,{children:Object(d.jsx)(pe.a,{})}):"mid"===t.rate?Object(d.jsx)(he.a,{children:Object(d.jsx)(fe.a,{})}):"low"===t.rate?Object(d.jsx)(he.a,{children:Object(d.jsx)(ge.a,{})}):null,Object(d.jsx)(ye.a,{primary:t.name,secondary:t.desc})]})})};var Ie=function(e){var t=e.menu,n=e.menus,c=Object(a.useState)(!1),i=Object(r.a)(c,2),s=i[0],j=i[1];return Object(d.jsxs)(le.a,{children:[Object(d.jsx)(de.a,{title:t.name,action:Object(d.jsxs)(p.a,{sx:{mt:1.5},variant:"subtitle2",children:["$",t.price,t.priceB&&" / $".concat(t.priceB)]})}),t.img&&Object(d.jsx)(ue.a,{component:"img",height:"150",image:t.img,alt:"No Image"}),Object(d.jsx)(be.a,{children:Object(d.jsx)(p.a,{variant:"body2",color:"text.secondary",children:t.desc})}),Object(d.jsxs)(Oe.a,{onClick:function(){j(!s)},children:[Object(d.jsx)(xe.a,{secondaryAction:Object(d.jsx)(p.a,{variant:"body2",children:"Best Paired With"}),children:Object(d.jsxs)(he.a,{children:[Object(d.jsx)(b.a,{}),Object(d.jsx)(re.a,{})]})}),s?Object(d.jsx)(je.a,{}):Object(d.jsx)(oe.a,{})]}),Object(d.jsx)(me.a,{in:s,timeout:"auto",unmountOnExit:!0,children:t.pairs&&t.pairs.map((function(e){return Object(d.jsx)(Ce,{menu:n[e]},e)}))})]})};var we=function(e){var t=e.data,n=e.imageRepository,a=e.customerId,c=e.updateMenu,i=e.deleteMenu,s=e.addMenu,r=e.editCategory,j=Object.values(t.menus),o=Object(E.a)(new Set(j.map((function(e){return e.category}))));return Object(d.jsx)(d.Fragment,{children:o.map((function(e){return Object(d.jsxs)(l.a,{children:[Object(d.jsx)(l.a,{sx:{mt:4},children:Object(d.jsx)(R.a,{})}),Object(d.jsx)(l.a,{children:Object(d.jsxs)(k.a,{container:!0,spacing:4,sx:{mt:1},children:[Object(d.jsx)(k.a,{item:!0,container:!0,xs:12,md:6,justifyContent:"center",alignItems:"center",children:Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(p.a,{variant:"h6",children:e})})}),Object(d.jsx)(k.a,{item:!0,xs:12,md:6,children:Object(d.jsx)(V,{customerId:a,category:e,editCategory:r},e)}),j.filter((function(t){return t.category===e})).map((function(e){return Object(d.jsxs)(k.a,{container:!0,item:!0,alignItems:"center",spacing:4,children:[Object(d.jsx)(k.a,{item:!0,xs:12,md:6,children:Object(d.jsx)(Ie,{menu:e,menus:t.menus})}),Object(d.jsx)(k.a,{item:!0,xs:12,md:6,children:Object(d.jsx)(ie,{imageRepository:n,customerId:a,menu:e,menus:t.menus,menusArray:j,categories:o,updateMenu:c,deleteMenu:i})})]},e.menuId)})),Object(d.jsx)(k.a,{item:!0,xs:12,md:6,children:Object(d.jsx)(se,{imageRepository:n,customerId:a,category:e,addMenu:s})})]})})]},e)}))})};function Se(e){var t=e.customerId,n=e.menuRepository,c=e.imageRepository,i=Object(a.useState)({}),s=Object(r.a)(i,2),j=s[0],o=s[1],l=Object(a.useState)(!0),u=Object(r.a)(l,2),b=u[0],O=u[1];Object(a.useEffect)((function(){n.getMenus(t,(function(e){if(e)return o(e),void O(!1);O(!1)}))}),[t,n]);return Object(d.jsx)(d.Fragment,{children:b?Object(d.jsx)(B,{loading:b,text:"Loading Editor..."}):Object(d.jsxs)(k.a,{container:!0,children:[Object(d.jsx)(k.a,{container:!0,item:!0,justifyContent:"center",children:Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(p.a,{variant:"h5",children:"Menu Editor"})})}),Object(d.jsx)(k.a,{container:!0,item:!0,justifyContent:"center",children:Object(d.jsxs)(k.a,{container:!0,item:!0,xs:10,spacing:8,sx:{maxWidth:"1500px"},children:[Object.keys(j).find((function(e){return"menus"===e}))?Object(d.jsx)(k.a,{container:!0,item:!0,children:Object(d.jsx)(we,{data:j,imageRepository:c,customerId:t,updateMenu:function(e,t,a){n.updateMenu(e,t,a),n.getMenus(e,(function(e){o(e)}))},deleteMenu:function(e,t,a){var c=Object(W.a)({},t);delete c[a],Object.keys(c).forEach((function(e){var t=c[e].pairs;if(t){var n=t.indexOf(a);n>-1&&c[e].pairs.splice(n,1)}else;})),n.deleteMenu(e,a),n.updateMenus(e,c),n.getMenus(e,(function(e){o(e||{})}))},addMenu:function(e,t,a){n.addMenu(e,t,a),n.getMenus(e,(function(e){o(e)}))},editCategory:function(e,t,a){var c=Object(W.a)({},j.menus);Object.keys(c).forEach((function(e){c[e].category!==t||(c[e].category=a)})),n.updateCategory(e,c),n.getMenus(e,(function(e){o(e)}))}})}):null,Object(d.jsx)(k.a,{container:!0,item:!0,xs:12,children:Object(d.jsx)(A,{customerId:t,addCategory:function(e,t){var a=Date.now();n.addMenu(e,{menuId:a,category:t,name:"New menu",rate:"none",price:"",desc:"New menu description",img:"",pairs:[]},a),n.getMenus(e,(function(e){o(e)}))}})})]})})]})})}var We=n(263),ke=n(264),Me=n(274),Re=n(267),Pe=n(298);var Ae=function(e){var t=e.category,n=e.categories,a=e.handleTabChange;return Object(d.jsx)(Re.a,{value:t,onChange:a,variant:"scrollable",scrollButtons:"auto",children:n.map((function(e){return Object(d.jsx)(Pe.a,{label:e,value:e},e)}))})},Le=n(262);var Be=function(e){var t=e.menus,n=Object.values(t),c=Object(E.a)(new Set(n.map((function(e){return e.category})))),i=Object(a.useState)(c[0]),s=Object(r.a)(i,2),j=s[0],o=s[1];return Object(d.jsxs)(k.a,{container:!0,item:!0,justifyContent:"center",xs:10,children:[Object(d.jsx)(k.a,{item:!0,xs:12,sx:{mb:4},children:Object(d.jsx)(Le.a,{sx:{display:"flex",justifyContent:"center"},children:Object(d.jsx)(Ae,{category:j,categories:c,handleTabChange:function(e,t){o(t)}})})}),Object(d.jsx)(k.a,{container:!0,justifyContent:"center",children:Object(d.jsx)(k.a,{item:!0,container:!0,xs:10,spacing:2,justifyContent:"flex-start",alignItems:"flex-start",children:j&&n.filter((function(e){return e.category===j})).map((function(e){return Object(d.jsx)(k.a,{item:!0,xs:12,md:6,lg:4,xl:3,children:Object(d.jsx)(Ie,{menu:e,menus:t},e.menuId)},e.menuId)}))})})]})};function Ee(e){var t=e.menu,n=e.menus,c=Object(a.useState)(!1),i=Object(r.a)(c,2),s=i[0],j=i[1];return Object(d.jsxs)(ve.a,{children:[Object(d.jsx)(xe.a,{secondaryAction:Object(d.jsxs)(p.a,{variant:"subtitle2",children:["$",t.price,t.priceB&&" / $".concat(t.priceB)]}),children:Object(d.jsx)(ye.a,{primary:t.name,secondary:t.desc})}),t.pairs?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(Oe.a,{onClick:function(){j(!s)},children:[Object(d.jsx)(xe.a,{secondaryAction:Object(d.jsx)(p.a,{variant:"body2",children:"Best Paired With"}),children:Object(d.jsxs)(he.a,{children:[Object(d.jsx)(b.a,{}),Object(d.jsx)(re.a,{})]})}),s?Object(d.jsx)(je.a,{}):Object(d.jsx)(oe.a,{})]}),Object(d.jsx)(me.a,{sx:{borderBottom:"1px solid",borderRadius:4},in:s,timeout:"auto",unmountOnExit:!0,children:t.pairs&&t.pairs.map((function(e){return Object(d.jsx)(Ce,{menu:n[e]},e)}))})]}):null]})}var De=function(e){var t=e.menus,n=e.menusArray,a=e.category;return Object(d.jsx)(d.Fragment,{children:n.filter((function(e){return e.category===a})).map((function(e){return Object(d.jsx)(Ee,{menus:t,menu:e},e.menuId)}))})};function Ue(e){var t=e.menus,n=Object.values(t),a=Object(E.a)(new Set(n.map((function(e){return e.category}))));return Object(d.jsx)(k.a,{item:!0,container:!0,justifyContent:"center",xs:10,sm:8,md:6,lg:6,xl:4,children:a.map((function(e){return Object(d.jsxs)(k.a,{item:!0,container:!0,direction:"column",children:[Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(p.a,{variant:"h5",children:e})}),Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(De,{menus:t,menusArray:n,category:e})})]},e)}))})}var Fe=function(e){var t=e.customerId,n=e.menuRepository,c=Object(a.useState)({}),i=Object(r.a)(c,2),s=i[0],j=i[1],o=Object(a.useState)(!0),l=Object(r.a)(o,2),u=l[0],b=l[1];return Object(a.useEffect)((function(){n.getMenus(t,(function(e){e&&j(e)}))}),[t,n]),Object(d.jsxs)(k.a,{container:!0,item:!0,alignItems:"center",direction:"column",spacing:4,children:[Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(p.a,{variant:"h5",children:"Your Menu"})}),Object(d.jsxs)(k.a,{item:!0,container:!0,justifyContent:"center",alignItems:"center",children:[Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(We.a,{})}),Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(Me.a,{checked:u,onChange:function(e){b(!u)}})}),Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(ke.a,{})})]}),Object(d.jsx)(k.a,{container:!0,item:!0,justifyContent:"center",xs:10,children:Object.keys(s).find((function(e){return"menus"===e}))?u?Object(d.jsx)(Be,{menus:s.menus},Date.now()):Object(d.jsx)(Ue,{menus:s.menus}):Object(d.jsx)(k.a,{item:!0,children:"No Data Available"})})]})},Ne=n(268);var ze=function(e){var t=e.authService,n=Object(o.f)(),c=Object(a.useContext)(Te),i=c.user,s=c.setUser,j=Object(a.useState)(""),l=Object(r.a)(j,2),u=l[0],b=l[1],O=Object(a.useState)(""),x=Object(r.a)(O,2),h=x[0],f=x[1],g=Object(a.useState)(!1),v=Object(r.a)(g,2),y=v[0],C=v[1],I=Object(a.useState)(),w=Object(r.a)(I,2),S=w[0],W=w[1];Object(a.useEffect)((function(){t.onAuthChange((function(e){e?(s(e),n("/menu")):s(void 0)}))}),[i,s,t,n]);var M=function(e){var t=e.target.name,n=e.target.value;switch(t){case"email":return void b(n);case"password":return void f(n);default:return}};return Object(d.jsxs)(D.a,{open:!0,maxWidth:"xs",fullWidth:!0,children:[Object(d.jsx)(U.a,{sx:{textAlign:"center",fontSize:24,fontWeight:"bold"},children:"Log in"}),Object(d.jsx)(k.a,{container:!0,justifyContent:"center",children:Object(d.jsxs)(k.a,{container:!0,item:!0,direction:"column",justifyContent:"space-around",spacing:2,sx:{p:4,maxWidth:"400px"},children:[S&&Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(Ne.a,{severity:"error",children:S})}),Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(p.a,{children:"Email"})}),Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(P.a,{error:"email"===y&&!0,helperText:"email"===y&&"Incorrect entry",autoFocus:!0,fullWidth:!0,type:"email",variant:"outlined",label:"Email",name:"email",onChange:M})}),Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(p.a,{children:"Password"})}),Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(P.a,{error:"password"===y&&!0,helperText:"password"===y&&"Incorrect entry",fullWidth:!0,variant:"outlined",label:"Password",type:"password",name:"password",onChange:M})}),Object(d.jsx)(k.a,{item:!0,container:!0,justifyContent:"center",children:Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(m.a,{fullWidth:!0,variant:"contained",size:"large",onClick:function(){t.signInWithEmailPassword(u,h).then().catch((function(e){"auth/user-not-found"===e.code?(C("email"),W("User is not found")):"auth/wrong-password"===e.code?(C("password"),W("Incorrect password")):"auth/too-many-requests"===e.code?(C("tooManyRequest"),W("Access to this account has been temporarily disabled due to many failed login attempts. You can immediately restore it by resetting your password or you can try again later.")):console.log(e)}))},children:"Log in"})})})]})})]})};var qe=function(e){var t=e.menus,n=(e.logo,e.name),c=Object(a.useState)(!0),i=Object(r.a)(c,2),s=i[0],j=i[1];return Object(d.jsx)(l.a,{sx:{mt:4,mb:8},children:Object(d.jsxs)(k.a,{container:!0,alignItems:"center",direction:"column",spacing:4,children:[Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(p.a,{variant:"h5",children:n})}),Object(d.jsxs)(k.a,{item:!0,container:!0,justifyContent:"center",alignItems:"center",children:[Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(We.a,{})}),Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(Me.a,{checked:s,onChange:function(e){j(!s)}})}),Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(ke.a,{})})]}),Object(d.jsx)(k.a,{container:!0,item:!0,justifyContent:"center",xs:10,children:t?s?Object(d.jsx)(Be,{menus:t},Date.now()):Object(d.jsx)(Ue,{menus:t}):Object(d.jsx)(k.a,{item:!0,children:"No Data Available"})})]})})};function Ve(e){var t=e.user,n=e.customerId,c=e.menuRepository,i=e.imageRepository,s=Object(a.useState)(),o=Object(r.a)(s,2),l=o[0],u=o[1],b=Object(a.useState)(),O=Object(r.a)(b,2),x=O[0],h=O[1],f=Object(a.useState)(),g=Object(r.a)(f,2),v=g[0],y=g[1],C=Object(a.useState)(),I=Object(r.a)(C,2),w=I[0],S=I[1],R=Object(a.useState)(!0),A=Object(r.a)(R,2),L=A[0],B=A[1];Object(a.useEffect)((function(){S(!0),c.getMenus(n,(function(e){if(e)return u(e),void S(!1);S(!1)}))}),[c,n]);var E=function(){var e=Object(J.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!0),!x.logo){e.next=10;break}return e.next=4,i.logoImageUpload(n,x.logo);case 4:return t=e.sent,c.updateCustomerInfo(n,Object(W.a)(Object(W.a)({},x),{},{logo:t.url})),h(),S(!1),B(!0),e.abrupt("return");case 10:c.updateCustomerInfo(n,x),h(),S(!1),B(!0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){B(!1);var t=e.target.name,n=e.target.value;switch(t){case"businessName":var a=n.replace(/\s/g,"-").toLowerCase();return void h(Object(W.a)(Object(W.a)({},x),{},{name:n,publicUrl:a}));case"businessDesc":return void h(Object(W.a)(Object(W.a)({},x),{},{desc:n}));case"addressLine1":return void h(Object(W.a)(Object(W.a)({},x),{},{address:Object(W.a)(Object(W.a)({},x.address),{},{addressLine1:n})}));case"addressLine2":return void h(Object(W.a)(Object(W.a)({},x),{},{address:Object(W.a)(Object(W.a)({},x.address),{},{addressLine2:n})}));case"city":return void h(Object(W.a)(Object(W.a)({},x),{},{address:Object(W.a)(Object(W.a)({},x.address),{},{city:n})}));case"state":return void h(Object(W.a)(Object(W.a)({},x),{},{address:Object(W.a)(Object(W.a)({},x.address),{},{state:n})}));case"zipCode":return void h(Object(W.a)(Object(W.a)({},x),{},{address:Object(W.a)(Object(W.a)({},x.address),{},{zipCode:n})}));case"phone":return void h(Object(W.a)(Object(W.a)({},x),{},{phone:n}));case"logo":return void h(Object(W.a)(Object(W.a)({},x),{},{logo:n}));case"website":return void h(Object(W.a)(Object(W.a)({},x),{},{website:n}));default:return}};return Object(d.jsx)(d.Fragment,{children:l&&Object(d.jsxs)(k.a,{container:!0,justifyContent:"center",children:[Object(d.jsx)(k.a,{item:!0,xs:10,sx:{textAlign:"center"},children:Object(d.jsx)(p.a,{variant:"h5",children:"Profile"})}),Object(d.jsxs)(k.a,{container:!0,item:!0,spacing:2,sx:{p:4,maxWidth:"800px"},children:[Object(d.jsx)(k.a,{item:!0,container:!0,xs:12,justifyContent:"center",children:Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)(j.b,{to:"/menu/".concat(l.publicUrl),target:"_blank",children:"Public Menu URL"})})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(p.a,{children:"Business Name"})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"Business Name",name:"businessName",onChange:D,defaultValue:l.name})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(p.a,{children:"Business Description (Bio)"})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"Business Description (Bio)",name:"businessDesc",onChange:D,defaultValue:l.desc})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(p.a,{children:"Location"})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"Address Line1",name:"addressLine1",onChange:D,defaultValue:l.address&&l.address.addressLine1})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"Address Line2",name:"addressLine2",onChange:D,defaultValue:l.address&&l.address.addressLine2})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"City",name:"city",onChange:D,defaultValue:l.address&&l.address.city})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"State",name:"state",onChange:D,defaultValue:l.address&&l.address.state})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{disabled:w,fullWidth:!0,variant:"outlined",label:"ZIP Code",name:"zipCode",onChange:D,defaultValue:l.address&&l.address.zipCode})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(p.a,{children:"Phone"})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{disabled:w,fullWidth:!0,type:"tel",variant:"outlined",label:"Phone",name:"phone",onChange:D,defaultValue:l.phone})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(p.a,{children:"Logo"})}),(v||l.logo)&&Object(d.jsx)(k.a,{container:!0,item:!0,xs:12,justifyContent:"center",alignItems:"center",children:Object(d.jsx)(k.a,{item:!0,children:Object(d.jsx)("img",{src:v||l.logo,alt:"",loading:"lazy",style:{width:"100%",height:"100%"}})})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsxs)("label",{htmlFor:"contained-button-file-logo",children:[Object(d.jsx)(K.a,{sx:{display:"none"},type:"file",inputProps:{accept:"image/*"},id:"contained-button-file-logo",name:"img",onChange:function(e){var t=e.target.files[0];if(t){B(!0);var n=URL.createObjectURL(t);return y(n),h(Object(W.a)(Object(W.a)({},x),{},{logo:t})),void B(!1)}h(Object(W.a)(Object(W.a)({},x),{},{logo:""}))},disabled:w}),Object(d.jsx)(m.a,{variant:"contained",component:"span",startIcon:Object(d.jsx)(M.a,{}),disabled:w,children:"Upload Logo"})]})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(p.a,{children:"Business Hours"})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:"business hours settings"}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(p.a,{children:"Website"})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{fullWidth:!0,type:"url",variant:"outlined",label:"Website",name:"website",onChange:D,disabled:w,defaultValue:l.website})}),t&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(p.a,{children:"Email"})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{disabled:!0,fullWidth:!0,variant:"outlined",type:"email",label:"Email",name:"email",defaultValue:t.email})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(p.a,{children:"Password"})}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(P.a,{disabled:!0,fullWidth:!0,variant:"outlined",label:"Password",type:"password",name:"password"})})]}),Object(d.jsx)(k.a,{item:!0,xs:12,children:Object(d.jsx)(ae.a,{disabled:L,loading:w,fullWidth:!0,variant:"contained",startIcon:Object(d.jsx)(q.a,{}),onClick:E,children:"Save"})})]})]})})}function $e(e){var t=e.loading,n=e.text,c=e.authService,i=Object(o.f)(),s=Object(a.useContext)(Te),r=s.user,j=s.setUser;return Object(a.useEffect)((function(){c.onAuthChange((function(e){j(e||void 0)}))}),[r,j,c,i]),Object(d.jsxs)(l.a,{sx:{display:"flex",width:"100vw",height:"500px",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(d.jsx)(l.a,{children:Object(d.jsx)(L.CircleLoader,{loading:t,css:{display:"block"},size:100})}),Object(d.jsx)(l.a,{children:Object(d.jsx)(p.a,{variant:"h5",children:n})})]})}var He=function(e){var t=e.authService,n=e.menuRepository,c=e.imageRepository,i=Object(a.useContext)(Te).user,s=Object(a.useState)(),l=Object(r.a)(s,2),u=l[0],b=l[1],O=Object(a.useState)(),x=Object(r.a)(O,2),h=x[0],m=x[1];return Object(a.useEffect)((function(){n.getDatabase((function(e){var t=Object.keys(e);b(t),m(e)}))}),[n,i]),Object(d.jsx)(j.a,{children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/",element:Object(d.jsx)(ze,{authService:t})}),Object(d.jsx)(o.a,{path:"/login",element:Object(d.jsx)(ze,{authService:t})}),i&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.a,{path:"/editor",element:Object(d.jsx)(S,{customerId:i.uid,menuRepository:n,authService:t,component:Object(d.jsx)(Se,{customerId:i.uid,menuRepository:n,imageRepository:c})})}),Object(d.jsx)(o.a,{path:"/menu",element:Object(d.jsx)(S,{customerId:i.uid,menuRepository:n,authService:t,component:Object(d.jsx)(Fe,{user:i,customerId:i.uid,menuRepository:n})})}),Object(d.jsx)(o.a,{path:"/profile",element:Object(d.jsx)(S,{customerId:i.uid,menuRepository:n,authService:t,component:Object(d.jsx)(Ve,{user:i,customerId:i.uid,menuRepository:n,imageRepository:c})})})]}),u&&h&&u.map((function(e){return Object(d.jsx)(o.a,{path:"/menu/".concat(h[e].publicUrl),element:Object(d.jsx)(qe,{menus:h[e].menus,logo:h[e].logo&&h[e].logo,name:h[e].name})},e)})),Object(d.jsx)(o.a,{path:"*",element:Object(d.jsx)($e,{loading:!0,text:"Loading...",authService:t})})]})})},Te=c.a.createContext();function _e(e){var t=e.authService,n=e.menuRepository,c=e.imageRepository,i=Object(a.useState)(),s=Object(r.a)(i,2),j=s[0],o=s[1];return Object(d.jsx)(Te.Provider,{value:{user:j,setUser:o},children:Object(d.jsx)(He,{authService:t,menuRepository:n,imageRepository:c})})}var Ye=n(7),Je=n(9),Ze=function(){function e(t){Object(Ye.a)(this,e),this.authProvider=t}return Object(Je.a)(e,[{key:"googleSignInWithRedirect",value:function(){this.authProvider.logInWithRedirect()}},{key:"signInWithEmailPassword",value:function(e,t){return this.authProvider.signInWithEmailAndPassword(e,t)}},{key:"logout",value:function(){return this.authProvider.signOut()}},{key:"getRedirectResult",value:function(){return this.authProvider.getRedirectResult()}},{key:"onAuthChange",value:function(e){this.authProvider.onAuthStateChanged(e)}}]),e}(),Ge=n(33),Ke=function(){function e(t){Object(Ye.a)(this,e),this.database=Object(Ge.c)(t)}return Object(Je.a)(e,[{key:"addMenu",value:function(e,t,n){Object(Ge.g)(Object(Ge.e)(this.database,e+"/menus/"+n),t)}},{key:"updateMenu",value:function(e,t,n){Object(Ge.h)(Object(Ge.e)(this.database,e+"/menus/"+t),n)}},{key:"deleteMenu",value:function(e,t){Object(Ge.f)(Object(Ge.e)(this.database,e+"/menus/"+t))}},{key:"updateMenus",value:function(e,t){Object(Ge.h)(Object(Ge.e)(this.database,e+"/menus/"),t)}},{key:"getMenus",value:function(e,t){var n=Object(Ge.e)(this.database);Object(Ge.b)(Object(Ge.a)(n,e)).then((function(e){e.exists()?t(e.val()):t(null)})).catch((function(e){console.error(e)}))}},{key:"updateCategory",value:function(e,t){Object(Ge.h)(Object(Ge.e)(this.database,e+"/menus/"),t)}},{key:"getDatabase",value:function(e){var t=Object(Ge.e)(this.database);Object(Ge.b)(t).then((function(t){if(t.exists()){var n=t.val();e(n)}else e(null)}))}},{key:"onDatabaseChange",value:function(e){var t=Object(Ge.e)(this.database);Object(Ge.d)(t,(function(t){var n=t.val();e(n)}))}},{key:"updateCustomerInfo",value:function(e,t){Object(Ge.h)(Object(Ge.e)(this.database,e),t)}}]),e}(),Qe=function(){function e(){Object(Ye.a)(this,e)}return Object(Je.a)(e,[{key:"imageUpload",value:function(){var e=Object(J.a)(Y.a.mark((function e(t,n,a){var c,i;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("file",n),c.append("upload_preset","wgjkx4in"),c.append("folder","Menu Creator/".concat(t,"/Menu Photos")),c.append("tags",a),e.next=7,fetch("https://api.cloudinary.com/v1_1/db7ss52zt/image/upload",{method:"POST",body:c});case 7:return i=e.sent,e.next=10,i.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"logoImageUpload",value:function(){var e=Object(J.a)(Y.a.mark((function e(t,n){var a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",n),a.append("upload_preset","wgjkx4in"),a.append("folder","Menu Creator/".concat(t,"/Logo")),e.next=6,fetch("https://api.cloudinary.com/v1_1/db7ss52zt/image/upload",{method:"POST",body:a});case 6:return c=e.sent,e.next=9,c.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Xe=n(128),et=n(47),tt=new function e(){var t=this;Object(Ye.a)(this,e),this.initializeFirebaseApp=function(){return Object(Xe.a)(t.firebaseConfig)},this.signInWithRedirect=function(){var e=Object(et.b)(),t=new et.a;Object(et.f)(e,t)},this.signInWithEmailAndPassword=function(e,t){var n=Object(et.b)();return Object(et.e)(n,e,t)},this.signOut=function(){var e=Object(et.b)();return Object(et.g)(e)},this.getRedirectResult=function(){var e=Object(et.b)();return Object(et.c)(e)},this.onAuthStateChanged=function(e){var t=Object(et.b)();Object(et.d)(t,(function(t){e(t)}))},this.firebaseConfig={apiKey:"AIzaSyCt2mIHFWq3tlxp2gWtiVt6x9GIpLPtZnw",authDomain:"menu-creator-35f21.firebaseapp.com",projectId:"menu-creator-35f21",storageBucket:"menu-creator-35f21.appspot.com",appId:"1:312681521941:web:71aefc928cdc87ba237f1c"}},nt=tt.initializeFirebaseApp(),at=new Ze(tt),ct=new Ke(nt),it=new Qe;s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(_e,{authService:at,menuRepository:ct,imageRepository:it})}),document.getElementById("root"))}},[[193,1,2]]]);
//# sourceMappingURL=main.c1b8a8aa.chunk.js.map